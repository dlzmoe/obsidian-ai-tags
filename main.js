/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __markAsModule = (target) => __defProp(target, "__esModule", { value: true });
var __export = (target, all) => {
  __markAsModule(target);
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __reExport = (target, module2, desc) => {
  if (module2 && typeof module2 === "object" || typeof module2 === "function") {
    for (let key of __getOwnPropNames(module2))
      if (!__hasOwnProp.call(target, key) && key !== "default")
        __defProp(target, key, { get: () => module2[key], enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable });
  }
  return target;
};
var __toModule = (module2) => {
  return __reExport(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, "default", module2 && module2.__esModule && "default" in module2 ? { get: () => module2.default, enumerable: true } : { value: module2, enumerable: true })), module2);
};
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

// main.ts
__export(exports, {
  default: () => AutoTaggerPlugin
});
var import_obsidian = __toModule(require("obsidian"));
var DEFAULT_SETTINGS = {
  apiKey: "",
  apiUrl: "https://api.openai.com/v1/chat/completions",
  model: "gpt-4o-mini",
  provider: "openai"
};
var PROVIDER_CONFIGS = {
  openai: {
    defaultUrl: "https://api.openai.com/v1/chat/completions",
    defaultModel: "gpt-4o-mini",
    models: ["gpt-4o-mini", "gpt-4o", "gpt-3.5-turbo"]
  },
  gemini: {
    defaultUrl: "https://generativelanguage.googleapis.com/v1beta/models/",
    defaultModel: "gemini-pro",
    models: ["gemini-pro", "gemini-ultra"]
  },
  claude: {
    defaultUrl: "https://api.anthropic.com/v1/messages",
    defaultModel: "claude-3-5-sonnet",
    models: ["claude-3-5-sonnet", "claude-3-7-sonnet", "claude-3-opus", "claude-3-haiku"]
  },
  deepseek: {
    defaultUrl: "https://api.deepseek.com/v1/chat/completions",
    defaultModel: "deepseek-chat",
    models: ["deepseek-chat", "deepseek-coder"]
  },
  volcano: {
    defaultUrl: "https://ark.cn-beijing.volces.com/api/v3/chat/completions",
    defaultModel: "",
    models: [""]
  }
};
var AutoTaggerPlugin = class extends import_obsidian.Plugin {
  onload() {
    return __async(this, null, function* () {
      yield this.loadSettings();
      this.addRibbonIcon("tag", "\u751F\u6210\u6807\u7B7E", () => __async(this, null, function* () {
        yield this.generateTags();
      }));
      this.addSettingTab(new AutoTaggerSettingTab(this.app, this));
    });
  }
  loadSettings() {
    return __async(this, null, function* () {
      this.settings = Object.assign({}, DEFAULT_SETTINGS, yield this.loadData());
    });
  }
  saveSettings() {
    return __async(this, null, function* () {
      yield this.saveData(this.settings);
    });
  }
  generateTags() {
    return __async(this, null, function* () {
      const activeView = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
      if (!activeView) {
        new import_obsidian.Notice("\u8BF7\u6253\u5F00\u4E00\u4E2A\u6587\u6863\u4EE5\u751F\u6210\u6807\u7B7E");
        return;
      }
      const file = activeView.file;
      const content = yield this.app.vault.read(file);
      const loadingNotice = new import_obsidian.Notice("\u6B63\u5728\u751F\u6210\u6807\u7B7E...", 0);
      try {
        const tags = yield this.analyzeTags(content);
        loadingNotice.hide();
        new TagSelectionModal(this.app, tags, (selectedTags) => __async(this, null, function* () {
          yield this.updateFileFrontMatter(file, selectedTags);
        })).open();
      } catch (error) {
        loadingNotice.hide();
        new import_obsidian.Notice(`\u751F\u6210\u6807\u7B7E\u5931\u8D25\uFF1A${error.message}`);
      }
    });
  }
  analyzeTags(content) {
    return __async(this, null, function* () {
      if (!this.settings.apiKey) {
        throw new Error("\u8BF7\u5148\u5728\u8BBE\u7F6E\u4E2D\u914D\u7F6E API \u5BC6\u94A5");
      }
      switch (this.settings.provider) {
        case "openai":
          return this.analyzeWithOpenAI(content);
        case "gemini":
          return this.analyzeWithGemini(content);
        case "claude":
          return this.analyzeWithClaude(content);
        case "deepseek":
          return this.analyzeWithDeepSeek(content);
        case "volcano":
          return this.analyzeWithVolcano(content);
        default:
          throw new Error("\u4E0D\u652F\u6301\u7684 AI \u63D0\u4F9B\u5546");
      }
    });
  }
  analyzeWithOpenAI(content) {
    return __async(this, null, function* () {
      var _a;
      const response = yield fetch(this.settings.apiUrl, {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "Authorization": `Bearer ${this.settings.apiKey}`
        },
        body: JSON.stringify({
          model: this.settings.model,
          messages: [
            {
              role: "system",
              content: "\u4F60\u662F\u4E00\u4E2A\u6587\u6863\u6807\u7B7E\u751F\u6210\u5668\u3002\u8BF7\u6839\u636E\u6587\u6863\u5185\u5BB9\u751F\u6210\u6700\u591A 3 \u4E2A\u76F8\u5173\u7684\u6807\u7B7E\u3002\u53EA\u9700\u8FD4\u56DE\u6807\u7B7E\uFF0C\u7528\u9017\u53F7\u5206\u9694\uFF0C\u4E0D\u8981\u5305\u542B\u5176\u4ED6\u89E3\u91CA\u6216\u8BF4\u660E\uFF0C\u7981\u6B62\u6587\u672C\u4E2D\u5305\u542B\u7A7A\u683C\u3002"
            },
            {
              role: "user",
              content
            }
          ]
        })
      });
      if (!response.ok) {
        const error = yield response.json();
        throw new Error(((_a = error.error) == null ? void 0 : _a.message) || "\u8BF7\u6C42\u5931\u8D25");
      }
      const data = yield response.json();
      const tagsText = data.choices[0].message.content.trim();
      return this.processTags(tagsText);
    });
  }
  analyzeWithGemini(content) {
    return __async(this, null, function* () {
      var _a;
      const apiUrl = `${this.settings.apiUrl}${this.settings.model}:generateContent?key=${this.settings.apiKey}`;
      const response = yield fetch(apiUrl, {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify({
          contents: [
            {
              parts: [
                {
                  text: "\u4F60\u662F\u4E00\u4E2A\u6587\u6863\u6807\u7B7E\u751F\u6210\u5668\u3002\u8BF7\u6839\u636E\u6587\u6863\u5185\u5BB9\u751F\u6210\u6700\u591A 3 \u4E2A\u76F8\u5173\u7684\u6807\u7B7E\u3002\u53EA\u9700\u8FD4\u56DE\u6807\u7B7E\uFF0C\u7528\u9017\u53F7\u5206\u9694\uFF0C\u4E0D\u8981\u5305\u542B\u5176\u4ED6\u89E3\u91CA\u6216\u8BF4\u660E\uFF0C\u7981\u6B62\u6587\u672C\u4E2D\u5305\u542B\u7A7A\u683C\u3002\n\n" + content
                }
              ]
            }
          ]
        })
      });
      if (!response.ok) {
        const error = yield response.json();
        throw new Error(((_a = error.error) == null ? void 0 : _a.message) || "\u8BF7\u6C42\u5931\u8D25");
      }
      const data = yield response.json();
      const tagsText = data.candidates[0].content.parts[0].text.trim();
      return this.processTags(tagsText);
    });
  }
  analyzeWithClaude(content) {
    return __async(this, null, function* () {
      var _a;
      const response = yield fetch(this.settings.apiUrl, {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "x-api-key": this.settings.apiKey,
          "anthropic-version": "2023-06-01"
        },
        body: JSON.stringify({
          model: this.settings.model,
          max_tokens: 100,
          system: "\u4F60\u662F\u4E00\u4E2A\u6587\u6863\u6807\u7B7E\u751F\u6210\u5668\u3002\u8BF7\u6839\u636E\u6587\u6863\u5185\u5BB9\u751F\u6210\u6700\u591A 3 \u4E2A\u76F8\u5173\u7684\u6807\u7B7E\u3002\u53EA\u9700\u8FD4\u56DE\u6807\u7B7E\uFF0C\u7528\u9017\u53F7\u5206\u9694\uFF0C\u4E0D\u8981\u5305\u542B\u5176\u4ED6\u89E3\u91CA\u6216\u8BF4\u660E\uFF0C\u7981\u6B62\u6587\u672C\u4E2D\u5305\u542B\u7A7A\u683C\u3002",
          messages: [
            {
              role: "user",
              content
            }
          ]
        })
      });
      if (!response.ok) {
        const error = yield response.json();
        throw new Error(((_a = error.error) == null ? void 0 : _a.message) || "\u8BF7\u6C42\u5931\u8D25");
      }
      const data = yield response.json();
      const tagsText = data.content[0].text.trim();
      return this.processTags(tagsText);
    });
  }
  analyzeWithDeepSeek(content) {
    return __async(this, null, function* () {
      var _a;
      const response = yield fetch(this.settings.apiUrl, {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "Authorization": `Bearer ${this.settings.apiKey}`
        },
        body: JSON.stringify({
          model: this.settings.model,
          messages: [
            {
              role: "system",
              content: "\u4F60\u662F\u4E00\u4E2A\u6587\u6863\u6807\u7B7E\u751F\u6210\u5668\u3002\u8BF7\u6839\u636E\u6587\u6863\u5185\u5BB9\u751F\u6210\u6700\u591A 3 \u4E2A\u76F8\u5173\u7684\u6807\u7B7E\u3002\u53EA\u9700\u8FD4\u56DE\u6807\u7B7E\uFF0C\u7528\u9017\u53F7\u5206\u9694\uFF0C\u4E0D\u8981\u5305\u542B\u5176\u4ED6\u89E3\u91CA\u6216\u8BF4\u660E\uFF0C\u7981\u6B62\u6587\u672C\u4E2D\u5305\u542B\u7A7A\u683C\u3002"
            },
            {
              role: "user",
              content
            }
          ]
        })
      });
      if (!response.ok) {
        const error = yield response.json();
        throw new Error(((_a = error.error) == null ? void 0 : _a.message) || "\u8BF7\u6C42\u5931\u8D25");
      }
      const data = yield response.json();
      const tagsText = data.choices[0].message.content.trim();
      return this.processTags(tagsText);
    });
  }
  analyzeWithVolcano(content) {
    return __async(this, null, function* () {
      var _a, _b, _c, _d;
      const response = yield fetch(this.settings.apiUrl + this.settings.model, {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "Authorization": `Bearer ${this.settings.apiKey}`
        },
        body: JSON.stringify({
          messages: [
            {
              role: "system",
              content: "\u4F60\u662F\u4E00\u4E2A\u6587\u6863\u6807\u7B7E\u751F\u6210\u5668\u3002\u8BF7\u6839\u636E\u6587\u6863\u5185\u5BB9\u751F\u6210\u6700\u591A 3 \u4E2A\u76F8\u5173\u7684\u6807\u7B7E\u3002\u53EA\u9700\u8FD4\u56DE\u6807\u7B7E\uFF0C\u7528\u9017\u53F7\u5206\u9694\uFF0C\u4E0D\u8981\u5305\u542B\u5176\u4ED6\u89E3\u91CA\u6216\u8BF4\u660E\uFF0C\u7981\u6B62\u6587\u672C\u4E2D\u5305\u542B\u7A7A\u683C\u3002"
            },
            {
              role: "user",
              content
            }
          ]
        })
      });
      if (!response.ok) {
        const error = yield response.json();
        throw new Error(((_a = error.error) == null ? void 0 : _a.message) || "\u8BF7\u6C42\u5931\u8D25");
      }
      const data = yield response.json();
      const tagsText = ((_d = (_c = (_b = data.choice) == null ? void 0 : _b.message) == null ? void 0 : _c.content) == null ? void 0 : _d.trim()) || "";
      return this.processTags(tagsText);
    });
  }
  processTags(tagsText) {
    return tagsText.split(",").map((tag) => tag.trim()).filter((tag) => tag).map((tag) => tag.replace(/\s+/g, ""));
  }
  updateFileFrontMatter(file, newTags) {
    return __async(this, null, function* () {
      const content = yield this.app.vault.read(file);
      const yamlRegex = /^---\n([\s\S]*?)\n---/;
      const hasYaml = yamlRegex.test(content);
      let newContent;
      if (hasYaml) {
        const yamlMatch = content.match(yamlRegex);
        const yaml = yamlMatch[1];
        const tagsRegex = /^tags:\s*\[(.*)\]/m;
        const tagsMatch = yaml.match(tagsRegex);
        if (tagsMatch) {
          const existingTagsStr = tagsMatch[1];
          const existingTags = existingTagsStr.split(",").map((tag) => tag.trim()).filter((tag) => tag !== "");
          const allTags = [...new Set([...existingTags, ...newTags])];
          newContent = content.replace(tagsRegex, `tags: [${allTags.join(", ")}]`);
        } else {
          newContent = content.replace(yamlRegex, `---
${yaml}
tags: [${newTags.join(", ")}]
---`);
        }
      } else {
        newContent = `---
tags: [${newTags.join(", ")}]
---

${content}`;
      }
      yield this.app.vault.modify(file, newContent);
      new import_obsidian.Notice(`\u5DF2\u6210\u529F\u6DFB\u52A0\u6807\u7B7E\uFF1A${newTags.join(", ")}`);
    });
  }
};
var TagSelectionModal = class extends import_obsidian.Modal {
  constructor(app, tags, onSubmit) {
    super(app);
    this.tags = tags;
    this.onSubmit = onSubmit;
    this.selectedTags = [...tags];
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.createEl("h3", { text: "\u63A8\u8350\u6807\u7B7E" });
    const tagContainer = contentEl.createDiv({ cls: "tag-container" });
    this.tags.forEach((tag, index) => {
      const tagRow = tagContainer.createDiv({ cls: "tag-row" });
      const checkbox = tagRow.createEl("input", {
        type: "checkbox",
        attr: { checked: true }
      });
      const tagInput = tagRow.createEl("input", {
        type: "text",
        value: tag
      });
      checkbox.addEventListener("change", () => {
        if (checkbox.checked) {
          this.selectedTags[index] = tagInput.value;
        } else {
          this.selectedTags[index] = null;
        }
      });
      tagInput.addEventListener("input", () => {
        if (checkbox.checked) {
          this.selectedTags[index] = tagInput.value;
        }
      });
    });
    const buttonContainer = contentEl.createDiv({ cls: "button-container" });
    buttonContainer.createEl("button", { text: "\u53D6\u6D88" }).addEventListener("click", () => {
      this.close();
    });
    buttonContainer.createEl("button", { text: "\u786E\u5B9A" }).addEventListener("click", () => {
      const finalTags = this.selectedTags.filter((tag) => tag !== null);
      this.onSubmit(finalTags);
      this.close();
    });
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var AutoTaggerSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h3", { text: "\u81EA\u52A8\u6807\u7B7E\u751F\u6210\u8BBE\u7F6E" });
    new import_obsidian.Setting(containerEl).setName("AI \u63D0\u4F9B\u5546").setDesc("\u9009\u62E9 AI \u670D\u52A1\u63D0\u4F9B\u5546").addDropdown((dropdown) => {
      Object.keys(PROVIDER_CONFIGS).forEach((provider) => {
        dropdown.addOption(provider, provider === "openai" ? "OpenAI" : provider === "gemini" ? "Gemini" : provider === "claude" ? "Claude" : provider === "deepseek" ? "DeepSeek(\u6DF1\u5EA6\u6C42\u7D22)" : "DeepSeek(\u706B\u5C71\u5F15\u64CE)");
      });
      dropdown.setValue(this.plugin.settings.provider);
      dropdown.onChange((value) => __async(this, null, function* () {
        this.plugin.settings.provider = value;
        this.plugin.settings.apiUrl = PROVIDER_CONFIGS[value].defaultUrl;
        this.plugin.settings.model = PROVIDER_CONFIGS[value].defaultModel;
        yield this.plugin.saveSettings();
        this.display();
      }));
    });
    new import_obsidian.Setting(containerEl).setName("API \u5BC6\u94A5").setDesc("\u8F93\u5165\u4F60\u7684 API \u5BC6\u94A5").addText((text) => text.setPlaceholder("\u8BF7\u8F93\u5165 API \u5BC6\u94A5").setValue(this.plugin.settings.apiKey).onChange((value) => __async(this, null, function* () {
      this.plugin.settings.apiKey = value;
      yield this.plugin.saveSettings();
    })));
    new import_obsidian.Setting(containerEl).setName("API \u5730\u5740").setDesc("\u8F93\u5165 API \u5730\u5740").addText((text) => text.setPlaceholder(PROVIDER_CONFIGS[this.plugin.settings.provider].defaultUrl).setValue(this.plugin.settings.apiUrl).onChange((value) => __async(this, null, function* () {
      this.plugin.settings.apiUrl = value;
      yield this.plugin.saveSettings();
    })));
    if (this.plugin.settings.provider === "gemini") {
      containerEl.createEl("div", {
        text: "\u6CE8\u610F\uFF1AGemini API URL \u5E94\u4EE5 https://generativelanguage.googleapis.com/v1beta/models/ \u5F00\u5934\uFF0C\u6A21\u578B\u540D\u79F0\u5C06\u81EA\u52A8\u6DFB\u52A0\u3002",
        cls: "setting-item-description"
      });
    } else if (this.plugin.settings.provider === "volcano") {
      containerEl.createEl("div", {
        text: "\u6CE8\u610F\uFF1A\u706B\u5C71\u5F15\u64CE API URL \u5E94\u4EE5 https://ark.cn-beijing.volces.com/api/v3/chat/completions \u5F00\u5934\uFF0C\u6A21\u578B\u670D\u52A1\u540D\u79F0\u5C06\u81EA\u52A8\u6DFB\u52A0\u3002",
        cls: "setting-item-description"
      });
    }
    new import_obsidian.Setting(containerEl).setName("\u6A21\u578B").setDesc("\u9009\u62E9 AI \u6A21\u578B").addDropdown((dropdown) => {
      const models = PROVIDER_CONFIGS[this.plugin.settings.provider].models;
      models.forEach((model) => {
        dropdown.addOption(model, model);
      });
      if (!models.includes(this.plugin.settings.model)) {
        dropdown.addOption(this.plugin.settings.model, this.plugin.settings.model);
      }
      dropdown.setValue(this.plugin.settings.model);
      dropdown.onChange((value) => __async(this, null, function* () {
        this.plugin.settings.model = value;
        yield this.plugin.saveSettings();
      }));
    });
    new import_obsidian.Setting(containerEl).setName("\u81EA\u5B9A\u4E49\u6A21\u578B").setDesc("\u8F93\u5165\u81EA\u5B9A\u4E49\u6A21\u578B\u540D\u79F0 (\u53EF\u9009)").addText((text) => text.setPlaceholder("\u81EA\u5B9A\u4E49\u6A21\u578B\u540D\u79F0").onChange((value) => __async(this, null, function* () {
      if (value) {
        this.plugin.settings.model = value;
        yield this.plugin.saveSettings();
        this.display();
      }
    })));
    containerEl.createEl("h3", { text: "\u63D0\u4F9B\u5546\u8BF4\u660E" });
    const providerInfo = containerEl.createDiv({ cls: "provider-info" });
    switch (this.plugin.settings.provider) {
      case "openai":
        providerInfo.createEl("p", { text: "OpenAI API \u4F7F\u7528\u6807\u51C6\u7684 chat completions \u63A5\u53E3\u3002" });
        break;
      case "gemini":
        providerInfo.createEl("p", { text: 'Gemini API \u9700\u8981\u4EE5 "key=" \u5F62\u5F0F\u5728 URL \u4E2D\u9644\u52A0 API \u5BC6\u94A5\u3002\u5728\u6B64\u8BBE\u7F6E\u4E2D\uFF0CAPI \u5BC6\u94A5\u5C06\u81EA\u52A8\u9644\u52A0\u5230\u8BF7\u6C42 URL\u3002' });
        break;
      case "claude":
        providerInfo.createEl("p", { text: 'Claude API \u9700\u8981\u5728\u8BF7\u6C42\u5934\u4E2D\u6DFB\u52A0 "x-api-key" \u5B57\u6BB5\u3002' });
        break;
      case "deepseek":
        providerInfo.createEl("p", { text: "DeepSeek API \u4F7F\u7528\u4E0E OpenAI \u517C\u5BB9\u7684\u63A5\u53E3\u3002" });
        break;
      case "volcano":
        providerInfo.createEl("p", { text: "\u706B\u5C71\u5F15\u64CE API \u9700\u8981\u5728\u8BF7\u6C42 URL \u4E2D\u6DFB\u52A0\u6A21\u578B\u670D\u52A1\u540D\u79F0\u3002" });
        break;
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcsIFRGaWxlLCBOb3RpY2UsIE1vZGFsLCBNYXJrZG93blZpZXcsIERyb3Bkb3duQ29tcG9uZW50IH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuaW50ZXJmYWNlIEF1dG9UYWdnZXJTZXR0aW5ncyB7XHJcblx0YXBpS2V5OiBzdHJpbmc7XHJcblx0YXBpVXJsOiBzdHJpbmc7XHJcblx0bW9kZWw6IHN0cmluZztcclxuXHRwcm92aWRlcjogc3RyaW5nO1xyXG59XHJcblxyXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBBdXRvVGFnZ2VyU2V0dGluZ3MgPSB7XHJcblx0YXBpS2V5OiAnJyxcclxuXHRhcGlVcmw6ICdodHRwczovL2FwaS5vcGVuYWkuY29tL3YxL2NoYXQvY29tcGxldGlvbnMnLFxyXG5cdG1vZGVsOiAnZ3B0LTRvLW1pbmknLFxyXG5cdHByb3ZpZGVyOiAnb3BlbmFpJ1xyXG59XHJcblxyXG5jb25zdCBQUk9WSURFUl9DT05GSUdTID0ge1xyXG5cdG9wZW5haToge1xyXG5cdFx0ZGVmYXVsdFVybDogJ2h0dHBzOi8vYXBpLm9wZW5haS5jb20vdjEvY2hhdC9jb21wbGV0aW9ucycsXHJcblx0XHRkZWZhdWx0TW9kZWw6ICdncHQtNG8tbWluaScsXHJcblx0XHRtb2RlbHM6IFsnZ3B0LTRvLW1pbmknLCAnZ3B0LTRvJywgJ2dwdC0zLjUtdHVyYm8nXVxyXG5cdH0sXHJcblx0Z2VtaW5pOiB7XHJcblx0XHRkZWZhdWx0VXJsOiAnaHR0cHM6Ly9nZW5lcmF0aXZlbGFuZ3VhZ2UuZ29vZ2xlYXBpcy5jb20vdjFiZXRhL21vZGVscy8nLFxyXG5cdFx0ZGVmYXVsdE1vZGVsOiAnZ2VtaW5pLXBybycsXHJcblx0XHRtb2RlbHM6IFsnZ2VtaW5pLXBybycsICdnZW1pbmktdWx0cmEnXVxyXG5cdH0sXHJcblx0Y2xhdWRlOiB7XHJcblx0XHRkZWZhdWx0VXJsOiAnaHR0cHM6Ly9hcGkuYW50aHJvcGljLmNvbS92MS9tZXNzYWdlcycsXHJcblx0XHRkZWZhdWx0TW9kZWw6ICdjbGF1ZGUtMy01LXNvbm5ldCcsXHJcblx0XHRtb2RlbHM6IFsnY2xhdWRlLTMtNS1zb25uZXQnLCAnY2xhdWRlLTMtNy1zb25uZXQnLCAnY2xhdWRlLTMtb3B1cycsICdjbGF1ZGUtMy1oYWlrdSddXHJcblx0fSxcclxuXHRkZWVwc2Vlazoge1xyXG5cdFx0ZGVmYXVsdFVybDogJ2h0dHBzOi8vYXBpLmRlZXBzZWVrLmNvbS92MS9jaGF0L2NvbXBsZXRpb25zJyxcclxuXHRcdGRlZmF1bHRNb2RlbDogJ2RlZXBzZWVrLWNoYXQnLFxyXG5cdFx0bW9kZWxzOiBbJ2RlZXBzZWVrLWNoYXQnLCAnZGVlcHNlZWstY29kZXInXVxyXG5cdH0sXHJcblx0dm9sY2Fubzoge1xyXG5cdFx0ZGVmYXVsdFVybDogJ2h0dHBzOi8vYXJrLmNuLWJlaWppbmcudm9sY2VzLmNvbS9hcGkvdjMvY2hhdC9jb21wbGV0aW9ucycsXHJcblx0XHRkZWZhdWx0TW9kZWw6ICcnLFxyXG5cdFx0bW9kZWxzOiBbJyddXHJcblx0fVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXV0b1RhZ2dlclBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XHJcblx0c2V0dGluZ3M6IEF1dG9UYWdnZXJTZXR0aW5ncztcclxuXHJcblx0YXN5bmMgb25sb2FkKCkge1xyXG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcclxuXHJcblx0XHR0aGlzLmFkZFJpYmJvbkljb24oJ3RhZycsICdcdTc1MUZcdTYyMTBcdTY4MDdcdTdCN0UnLCBhc3luYyAoKSA9PiB7XHJcblx0XHRcdGF3YWl0IHRoaXMuZ2VuZXJhdGVUYWdzKCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IEF1dG9UYWdnZXJTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XHJcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcclxuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBnZW5lcmF0ZVRhZ3MoKSB7XHJcblx0XHRjb25zdCBhY3RpdmVWaWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcclxuXHRcdGlmICghYWN0aXZlVmlldykge1xyXG5cdFx0XHRuZXcgTm90aWNlKCdcdThCRjdcdTYyNTNcdTVGMDBcdTRFMDBcdTRFMkFcdTY1ODdcdTY4NjNcdTRFRTVcdTc1MUZcdTYyMTBcdTY4MDdcdTdCN0UnKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGZpbGUgPSBhY3RpdmVWaWV3LmZpbGU7XHJcblx0XHRjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQucmVhZChmaWxlKTtcclxuXHJcblx0XHRjb25zdCBsb2FkaW5nTm90aWNlID0gbmV3IE5vdGljZSgnXHU2QjYzXHU1NzI4XHU3NTFGXHU2MjEwXHU2ODA3XHU3QjdFLi4uJywgMCk7XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgdGFncyA9IGF3YWl0IHRoaXMuYW5hbHl6ZVRhZ3MoY29udGVudCk7XHJcblx0XHRcdGxvYWRpbmdOb3RpY2UuaGlkZSgpO1xyXG5cclxuXHRcdFx0bmV3IFRhZ1NlbGVjdGlvbk1vZGFsKHRoaXMuYXBwLCB0YWdzLCBhc3luYyAoc2VsZWN0ZWRUYWdzKSA9PiB7XHJcblx0XHRcdFx0YXdhaXQgdGhpcy51cGRhdGVGaWxlRnJvbnRNYXR0ZXIoZmlsZSwgc2VsZWN0ZWRUYWdzKTtcclxuXHRcdFx0fSkub3BlbigpO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0bG9hZGluZ05vdGljZS5oaWRlKCk7XHJcblx0XHRcdG5ldyBOb3RpY2UoYFx1NzUxRlx1NjIxMFx1NjgwN1x1N0I3RVx1NTkzMVx1OEQyNVx1RkYxQSR7ZXJyb3IubWVzc2FnZX1gKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFzeW5jIGFuYWx5emVUYWdzKGNvbnRlbnQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nW10+IHtcclxuXHRcdGlmICghdGhpcy5zZXR0aW5ncy5hcGlLZXkpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdcdThCRjdcdTUxNDhcdTU3MjhcdThCQkVcdTdGNkVcdTRFMkRcdTkxNERcdTdGNkUgQVBJIFx1NUJDNlx1OTRBNScpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHN3aXRjaCAodGhpcy5zZXR0aW5ncy5wcm92aWRlcikge1xyXG5cdFx0XHRjYXNlICdvcGVuYWknOlxyXG5cdFx0XHRcdHJldHVybiB0aGlzLmFuYWx5emVXaXRoT3BlbkFJKGNvbnRlbnQpO1xyXG5cdFx0XHRjYXNlICdnZW1pbmknOlxyXG5cdFx0XHRcdHJldHVybiB0aGlzLmFuYWx5emVXaXRoR2VtaW5pKGNvbnRlbnQpO1xyXG5cdFx0XHRjYXNlICdjbGF1ZGUnOlxyXG5cdFx0XHRcdHJldHVybiB0aGlzLmFuYWx5emVXaXRoQ2xhdWRlKGNvbnRlbnQpO1xyXG5cdFx0XHRjYXNlICdkZWVwc2Vlayc6XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuYW5hbHl6ZVdpdGhEZWVwU2Vlayhjb250ZW50KTtcclxuXHRcdFx0Y2FzZSAndm9sY2Fubyc6XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuYW5hbHl6ZVdpdGhWb2xjYW5vKGNvbnRlbnQpO1xyXG5cdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignXHU0RTBEXHU2NTJGXHU2MzAxXHU3Njg0IEFJIFx1NjNEMFx1NEY5Qlx1NTU0NicpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YXN5bmMgYW5hbHl6ZVdpdGhPcGVuQUkoY29udGVudDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xyXG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLnNldHRpbmdzLmFwaVVybCwge1xyXG5cdFx0XHRtZXRob2Q6ICdQT1NUJyxcclxuXHRcdFx0aGVhZGVyczoge1xyXG5cdFx0XHRcdCdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcblx0XHRcdFx0J0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dGhpcy5zZXR0aW5ncy5hcGlLZXl9YFxyXG5cdFx0XHR9LFxyXG5cdFx0XHRib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcblx0XHRcdFx0bW9kZWw6IHRoaXMuc2V0dGluZ3MubW9kZWwsXHJcblx0XHRcdFx0bWVzc2FnZXM6IFtcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0cm9sZTogJ3N5c3RlbScsXHJcblx0XHRcdFx0XHRcdGNvbnRlbnQ6ICdcdTRGNjBcdTY2MkZcdTRFMDBcdTRFMkFcdTY1ODdcdTY4NjNcdTY4MDdcdTdCN0VcdTc1MUZcdTYyMTBcdTU2NjhcdTMwMDJcdThCRjdcdTY4MzlcdTYzNkVcdTY1ODdcdTY4NjNcdTUxODVcdTVCQjlcdTc1MUZcdTYyMTBcdTY3MDBcdTU5MUEgMyBcdTRFMkFcdTc2RjhcdTUxNzNcdTc2ODRcdTY4MDdcdTdCN0VcdTMwMDJcdTUzRUFcdTk3MDBcdThGRDRcdTU2REVcdTY4MDdcdTdCN0VcdUZGMENcdTc1MjhcdTkwMTdcdTUzRjdcdTUyMDZcdTk2OTRcdUZGMENcdTRFMERcdTg5ODFcdTUzMDVcdTU0MkJcdTUxNzZcdTRFRDZcdTg5RTNcdTkxQ0FcdTYyMTZcdThCRjRcdTY2MEVcdUZGMENcdTc5ODFcdTZCNjJcdTY1ODdcdTY3MkNcdTRFMkRcdTUzMDVcdTU0MkJcdTdBN0FcdTY4M0NcdTMwMDInXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRyb2xlOiAndXNlcicsXHJcblx0XHRcdFx0XHRcdGNvbnRlbnQ6IGNvbnRlbnRcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRdXHJcblx0XHRcdH0pXHJcblx0XHR9KTtcclxuXHJcblx0XHRpZiAoIXJlc3BvbnNlLm9rKSB7XHJcblx0XHRcdGNvbnN0IGVycm9yID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoZXJyb3IuZXJyb3I/Lm1lc3NhZ2UgfHwgJ1x1OEJGN1x1NkM0Mlx1NTkzMVx1OEQyNScpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcblx0XHRjb25zdCB0YWdzVGV4dCA9IGRhdGEuY2hvaWNlc1swXS5tZXNzYWdlLmNvbnRlbnQudHJpbSgpO1xyXG5cclxuXHRcdHJldHVybiB0aGlzLnByb2Nlc3NUYWdzKHRhZ3NUZXh0KTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGFuYWx5emVXaXRoR2VtaW5pKGNvbnRlbnQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nW10+IHtcclxuXHRcdGNvbnN0IGFwaVVybCA9IGAke3RoaXMuc2V0dGluZ3MuYXBpVXJsfSR7dGhpcy5zZXR0aW5ncy5tb2RlbH06Z2VuZXJhdGVDb250ZW50P2tleT0ke3RoaXMuc2V0dGluZ3MuYXBpS2V5fWA7XHJcblx0XHRcclxuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYXBpVXJsLCB7XHJcblx0XHRcdG1ldGhvZDogJ1BPU1QnLFxyXG5cdFx0XHRoZWFkZXJzOiB7XHJcblx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcblx0XHRcdFx0Y29udGVudHM6IFtcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0cGFydHM6IFtcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHR0ZXh0OiBcIlx1NEY2MFx1NjYyRlx1NEUwMFx1NEUyQVx1NjU4N1x1Njg2M1x1NjgwN1x1N0I3RVx1NzUxRlx1NjIxMFx1NTY2OFx1MzAwMlx1OEJGN1x1NjgzOVx1NjM2RVx1NjU4N1x1Njg2M1x1NTE4NVx1NUJCOVx1NzUxRlx1NjIxMFx1NjcwMFx1NTkxQSAzIFx1NEUyQVx1NzZGOFx1NTE3M1x1NzY4NFx1NjgwN1x1N0I3RVx1MzAwMlx1NTNFQVx1OTcwMFx1OEZENFx1NTZERVx1NjgwN1x1N0I3RVx1RkYwQ1x1NzUyOFx1OTAxN1x1NTNGN1x1NTIwNlx1OTY5NFx1RkYwQ1x1NEUwRFx1ODk4MVx1NTMwNVx1NTQyQlx1NTE3Nlx1NEVENlx1ODlFM1x1OTFDQVx1NjIxNlx1OEJGNFx1NjYwRVx1RkYwQ1x1Nzk4MVx1NkI2Mlx1NjU4N1x1NjcyQ1x1NEUyRFx1NTMwNVx1NTQyQlx1N0E3QVx1NjgzQ1x1MzAwMlxcblxcblwiICsgY29udGVudFxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdF1cclxuXHRcdFx0fSlcclxuXHRcdH0pO1xyXG5cclxuXHRcdGlmICghcmVzcG9uc2Uub2spIHtcclxuXHRcdFx0Y29uc3QgZXJyb3IgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihlcnJvci5lcnJvcj8ubWVzc2FnZSB8fCAnXHU4QkY3XHU2QzQyXHU1OTMxXHU4RDI1Jyk7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHRcdGNvbnN0IHRhZ3NUZXh0ID0gZGF0YS5jYW5kaWRhdGVzWzBdLmNvbnRlbnQucGFydHNbMF0udGV4dC50cmltKCk7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMucHJvY2Vzc1RhZ3ModGFnc1RleHQpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgYW5hbHl6ZVdpdGhDbGF1ZGUoY29udGVudDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xyXG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLnNldHRpbmdzLmFwaVVybCwge1xyXG5cdFx0XHRtZXRob2Q6ICdQT1NUJyxcclxuXHRcdFx0aGVhZGVyczoge1xyXG5cdFx0XHRcdCdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcblx0XHRcdFx0J3gtYXBpLWtleSc6IHRoaXMuc2V0dGluZ3MuYXBpS2V5LFxyXG5cdFx0XHRcdCdhbnRocm9waWMtdmVyc2lvbic6ICcyMDIzLTA2LTAxJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcblx0XHRcdFx0bW9kZWw6IHRoaXMuc2V0dGluZ3MubW9kZWwsXHJcblx0XHRcdFx0bWF4X3Rva2VuczogMTAwLFxyXG5cdFx0XHRcdHN5c3RlbTogXCJcdTRGNjBcdTY2MkZcdTRFMDBcdTRFMkFcdTY1ODdcdTY4NjNcdTY4MDdcdTdCN0VcdTc1MUZcdTYyMTBcdTU2NjhcdTMwMDJcdThCRjdcdTY4MzlcdTYzNkVcdTY1ODdcdTY4NjNcdTUxODVcdTVCQjlcdTc1MUZcdTYyMTBcdTY3MDBcdTU5MUEgMyBcdTRFMkFcdTc2RjhcdTUxNzNcdTc2ODRcdTY4MDdcdTdCN0VcdTMwMDJcdTUzRUFcdTk3MDBcdThGRDRcdTU2REVcdTY4MDdcdTdCN0VcdUZGMENcdTc1MjhcdTkwMTdcdTUzRjdcdTUyMDZcdTk2OTRcdUZGMENcdTRFMERcdTg5ODFcdTUzMDVcdTU0MkJcdTUxNzZcdTRFRDZcdTg5RTNcdTkxQ0FcdTYyMTZcdThCRjRcdTY2MEVcdUZGMENcdTc5ODFcdTZCNjJcdTY1ODdcdTY3MkNcdTRFMkRcdTUzMDVcdTU0MkJcdTdBN0FcdTY4M0NcdTMwMDJcIixcclxuXHRcdFx0XHRtZXNzYWdlczogW1xyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRyb2xlOiAndXNlcicsXHJcblx0XHRcdFx0XHRcdGNvbnRlbnQ6IGNvbnRlbnRcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRdXHJcblx0XHRcdH0pXHJcblx0XHR9KTtcclxuXHJcblx0XHRpZiAoIXJlc3BvbnNlLm9rKSB7XHJcblx0XHRcdGNvbnN0IGVycm9yID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoZXJyb3IuZXJyb3I/Lm1lc3NhZ2UgfHwgJ1x1OEJGN1x1NkM0Mlx1NTkzMVx1OEQyNScpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcblx0XHRjb25zdCB0YWdzVGV4dCA9IGRhdGEuY29udGVudFswXS50ZXh0LnRyaW0oKTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcy5wcm9jZXNzVGFncyh0YWdzVGV4dCk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBhbmFseXplV2l0aERlZXBTZWVrKGNvbnRlbnQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nW10+IHtcclxuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGhpcy5zZXR0aW5ncy5hcGlVcmwsIHtcclxuXHRcdFx0bWV0aG9kOiAnUE9TVCcsXHJcblx0XHRcdGhlYWRlcnM6IHtcclxuXHRcdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG5cdFx0XHRcdCdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3RoaXMuc2V0dGluZ3MuYXBpS2V5fWBcclxuXHRcdFx0fSxcclxuXHRcdFx0Ym9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG5cdFx0XHRcdG1vZGVsOiB0aGlzLnNldHRpbmdzLm1vZGVsLFxyXG5cdFx0XHRcdG1lc3NhZ2VzOiBbXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdHJvbGU6ICdzeXN0ZW0nLFxyXG5cdFx0XHRcdFx0XHRjb250ZW50OiAnXHU0RjYwXHU2NjJGXHU0RTAwXHU0RTJBXHU2NTg3XHU2ODYzXHU2ODA3XHU3QjdFXHU3NTFGXHU2MjEwXHU1NjY4XHUzMDAyXHU4QkY3XHU2ODM5XHU2MzZFXHU2NTg3XHU2ODYzXHU1MTg1XHU1QkI5XHU3NTFGXHU2MjEwXHU2NzAwXHU1OTFBIDMgXHU0RTJBXHU3NkY4XHU1MTczXHU3Njg0XHU2ODA3XHU3QjdFXHUzMDAyXHU1M0VBXHU5NzAwXHU4RkQ0XHU1NkRFXHU2ODA3XHU3QjdFXHVGRjBDXHU3NTI4XHU5MDE3XHU1M0Y3XHU1MjA2XHU5Njk0XHVGRjBDXHU0RTBEXHU4OTgxXHU1MzA1XHU1NDJCXHU1MTc2XHU0RUQ2XHU4OUUzXHU5MUNBXHU2MjE2XHU4QkY0XHU2NjBFXHVGRjBDXHU3OTgxXHU2QjYyXHU2NTg3XHU2NzJDXHU0RTJEXHU1MzA1XHU1NDJCXHU3QTdBXHU2ODNDXHUzMDAyJ1xyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0cm9sZTogJ3VzZXInLFxyXG5cdFx0XHRcdFx0XHRjb250ZW50OiBjb250ZW50XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XVxyXG5cdFx0XHR9KVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0aWYgKCFyZXNwb25zZS5vaykge1xyXG5cdFx0XHRjb25zdCBlcnJvciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGVycm9yLmVycm9yPy5tZXNzYWdlIHx8ICdcdThCRjdcdTZDNDJcdTU5MzFcdThEMjUnKTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cdFx0Y29uc3QgdGFnc1RleHQgPSBkYXRhLmNob2ljZXNbMF0ubWVzc2FnZS5jb250ZW50LnRyaW0oKTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcy5wcm9jZXNzVGFncyh0YWdzVGV4dCk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBhbmFseXplV2l0aFZvbGNhbm8oY29udGVudDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xyXG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLnNldHRpbmdzLmFwaVVybCArIHRoaXMuc2V0dGluZ3MubW9kZWwsIHtcclxuXHRcdFx0bWV0aG9kOiAnUE9TVCcsXHJcblx0XHRcdGhlYWRlcnM6IHtcclxuXHRcdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG5cdFx0XHRcdCdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3RoaXMuc2V0dGluZ3MuYXBpS2V5fWBcclxuXHRcdFx0fSxcclxuXHRcdFx0Ym9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG5cdFx0XHRcdG1lc3NhZ2VzOiBbXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdHJvbGU6ICdzeXN0ZW0nLFxyXG5cdFx0XHRcdFx0XHRjb250ZW50OiAnXHU0RjYwXHU2NjJGXHU0RTAwXHU0RTJBXHU2NTg3XHU2ODYzXHU2ODA3XHU3QjdFXHU3NTFGXHU2MjEwXHU1NjY4XHUzMDAyXHU4QkY3XHU2ODM5XHU2MzZFXHU2NTg3XHU2ODYzXHU1MTg1XHU1QkI5XHU3NTFGXHU2MjEwXHU2NzAwXHU1OTFBIDMgXHU0RTJBXHU3NkY4XHU1MTczXHU3Njg0XHU2ODA3XHU3QjdFXHUzMDAyXHU1M0VBXHU5NzAwXHU4RkQ0XHU1NkRFXHU2ODA3XHU3QjdFXHVGRjBDXHU3NTI4XHU5MDE3XHU1M0Y3XHU1MjA2XHU5Njk0XHVGRjBDXHU0RTBEXHU4OTgxXHU1MzA1XHU1NDJCXHU1MTc2XHU0RUQ2XHU4OUUzXHU5MUNBXHU2MjE2XHU4QkY0XHU2NjBFXHVGRjBDXHU3OTgxXHU2QjYyXHU2NTg3XHU2NzJDXHU0RTJEXHU1MzA1XHU1NDJCXHU3QTdBXHU2ODNDXHUzMDAyJ1xyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0cm9sZTogJ3VzZXInLFxyXG5cdFx0XHRcdFx0XHRjb250ZW50OiBjb250ZW50XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XVxyXG5cdFx0XHR9KVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0aWYgKCFyZXNwb25zZS5vaykge1xyXG5cdFx0XHRjb25zdCBlcnJvciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGVycm9yLmVycm9yPy5tZXNzYWdlIHx8ICdcdThCRjdcdTZDNDJcdTU5MzFcdThEMjUnKTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cdFx0Y29uc3QgdGFnc1RleHQgPSBkYXRhLmNob2ljZT8ubWVzc2FnZT8uY29udGVudD8udHJpbSgpIHx8ICcnO1xyXG5cclxuXHRcdHJldHVybiB0aGlzLnByb2Nlc3NUYWdzKHRhZ3NUZXh0KTtcclxuXHR9XHJcblxyXG5cdHByb2Nlc3NUYWdzKHRhZ3NUZXh0OiBzdHJpbmcpOiBzdHJpbmdbXSB7XHJcblx0XHRyZXR1cm4gdGFnc1RleHQuc3BsaXQoJywnKVxyXG5cdFx0XHQubWFwKCh0YWc6IHN0cmluZykgPT4gdGFnLnRyaW0oKSlcclxuXHRcdFx0LmZpbHRlcigodGFnOiBzdHJpbmcpID0+IHRhZylcclxuXHRcdFx0Lm1hcCgodGFnOiBzdHJpbmcpID0+IHRhZy5yZXBsYWNlKC9cXHMrL2csICcnKSk7XHJcblx0fVxyXG5cclxuXHRhc3luYyB1cGRhdGVGaWxlRnJvbnRNYXR0ZXIoZmlsZTogVEZpbGUsIG5ld1RhZ3M6IHN0cmluZ1tdKSB7XHJcblx0XHRjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQucmVhZChmaWxlKTtcclxuXHJcblx0XHRjb25zdCB5YW1sUmVnZXggPSAvXi0tLVxcbihbXFxzXFxTXSo/KVxcbi0tLS87XHJcblx0XHRjb25zdCBoYXNZYW1sID0geWFtbFJlZ2V4LnRlc3QoY29udGVudCk7XHJcblxyXG5cdFx0bGV0IG5ld0NvbnRlbnQ7XHJcblx0XHRpZiAoaGFzWWFtbCkge1xyXG5cdFx0XHRjb25zdCB5YW1sTWF0Y2ggPSBjb250ZW50Lm1hdGNoKHlhbWxSZWdleCk7XHJcblx0XHRcdGNvbnN0IHlhbWwgPSB5YW1sTWF0Y2hbMV07XHJcblx0XHRcdGNvbnN0IHRhZ3NSZWdleCA9IC9edGFnczpcXHMqXFxbKC4qKVxcXS9tO1xyXG5cdFx0XHRjb25zdCB0YWdzTWF0Y2ggPSB5YW1sLm1hdGNoKHRhZ3NSZWdleCk7XHJcblxyXG5cdFx0XHRpZiAodGFnc01hdGNoKSB7XHJcblx0XHRcdFx0Y29uc3QgZXhpc3RpbmdUYWdzU3RyID0gdGFnc01hdGNoWzFdO1xyXG5cdFx0XHRcdGNvbnN0IGV4aXN0aW5nVGFncyA9IGV4aXN0aW5nVGFnc1N0clxyXG5cdFx0XHRcdFx0LnNwbGl0KCcsJylcclxuXHRcdFx0XHRcdC5tYXAodGFnID0+IHRhZy50cmltKCkpXHJcblx0XHRcdFx0XHQuZmlsdGVyKHRhZyA9PiB0YWcgIT09ICcnKTtcclxuXHJcblx0XHRcdFx0Y29uc3QgYWxsVGFncyA9IFsuLi5uZXcgU2V0KFsuLi5leGlzdGluZ1RhZ3MsIC4uLm5ld1RhZ3NdKV07XHJcblxyXG5cdFx0XHRcdG5ld0NvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UodGFnc1JlZ2V4LCBgdGFnczogWyR7YWxsVGFncy5qb2luKCcsICcpfV1gKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRuZXdDb250ZW50ID0gY29udGVudC5yZXBsYWNlKHlhbWxSZWdleCwgYC0tLVxcbiR7eWFtbH1cXG50YWdzOiBbJHtuZXdUYWdzLmpvaW4oJywgJyl9XVxcbi0tLWApO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRuZXdDb250ZW50ID0gYC0tLVxcbnRhZ3M6IFske25ld1RhZ3Muam9pbignLCAnKX1dXFxuLS0tXFxuXFxuJHtjb250ZW50fWA7XHJcblx0XHR9XHJcblxyXG5cdFx0YXdhaXQgdGhpcy5hcHAudmF1bHQubW9kaWZ5KGZpbGUsIG5ld0NvbnRlbnQpO1xyXG5cdFx0bmV3IE5vdGljZShgXHU1REYyXHU2MjEwXHU1MjlGXHU2REZCXHU1MkEwXHU2ODA3XHU3QjdFXHVGRjFBJHtuZXdUYWdzLmpvaW4oJywgJyl9YCk7XHJcblx0fVxyXG59XHJcblxyXG5jbGFzcyBUYWdTZWxlY3Rpb25Nb2RhbCBleHRlbmRzIE1vZGFsIHtcclxuXHR0YWdzOiBzdHJpbmdbXTtcclxuXHRvblN1Ym1pdDogKHRhZ3M6IHN0cmluZ1tdKSA9PiB2b2lkO1xyXG5cdHNlbGVjdGVkVGFnczogc3RyaW5nW107XHJcblxyXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCB0YWdzOiBzdHJpbmdbXSwgb25TdWJtaXQ6ICh0YWdzOiBzdHJpbmdbXSkgPT4gdm9pZCkge1xyXG5cdFx0c3VwZXIoYXBwKTtcclxuXHRcdHRoaXMudGFncyA9IHRhZ3M7XHJcblx0XHR0aGlzLm9uU3VibWl0ID0gb25TdWJtaXQ7XHJcblx0XHR0aGlzLnNlbGVjdGVkVGFncyA9IFsuLi50YWdzXTtcclxuXHR9XHJcblxyXG5cdG9uT3BlbigpIHtcclxuXHRcdGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xyXG5cclxuXHRcdGNvbnRlbnRFbC5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdcdTYzQThcdTgzNTBcdTY4MDdcdTdCN0UnIH0pO1xyXG5cclxuXHRcdGNvbnN0IHRhZ0NvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoeyBjbHM6ICd0YWctY29udGFpbmVyJyB9KTtcclxuXHJcblx0XHR0aGlzLnRhZ3MuZm9yRWFjaCgodGFnLCBpbmRleCkgPT4ge1xyXG5cdFx0XHRjb25zdCB0YWdSb3cgPSB0YWdDb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAndGFnLXJvdycgfSk7XHJcblxyXG5cdFx0XHRjb25zdCBjaGVja2JveCA9IHRhZ1Jvdy5jcmVhdGVFbCgnaW5wdXQnLCB7XHJcblx0XHRcdFx0dHlwZTogJ2NoZWNrYm94JyxcclxuXHRcdFx0XHRhdHRyOiB7IGNoZWNrZWQ6IHRydWUgfVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGNvbnN0IHRhZ0lucHV0ID0gdGFnUm93LmNyZWF0ZUVsKCdpbnB1dCcsIHtcclxuXHRcdFx0XHR0eXBlOiAndGV4dCcsXHJcblx0XHRcdFx0dmFsdWU6IHRhZ1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcclxuXHRcdFx0XHRpZiAoY2hlY2tib3guY2hlY2tlZCkge1xyXG5cdFx0XHRcdFx0dGhpcy5zZWxlY3RlZFRhZ3NbaW5kZXhdID0gdGFnSW5wdXQudmFsdWU7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHRoaXMuc2VsZWN0ZWRUYWdzW2luZGV4XSA9IG51bGw7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdHRhZ0lucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG5cdFx0XHRcdGlmIChjaGVja2JveC5jaGVja2VkKSB7XHJcblx0XHRcdFx0XHR0aGlzLnNlbGVjdGVkVGFnc1tpbmRleF0gPSB0YWdJbnB1dC52YWx1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Y29uc3QgYnV0dG9uQ29udGFpbmVyID0gY29udGVudEVsLmNyZWF0ZURpdih7IGNsczogJ2J1dHRvbi1jb250YWluZXInIH0pO1xyXG5cclxuXHRcdGJ1dHRvbkNvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnXHU1M0Q2XHU2RDg4JyB9KS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdFx0dGhpcy5jbG9zZSgpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0YnV0dG9uQ29udGFpbmVyLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdcdTc4NkVcdTVCOUEnIH0pLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHRjb25zdCBmaW5hbFRhZ3MgPSB0aGlzLnNlbGVjdGVkVGFncy5maWx0ZXIodGFnID0+IHRhZyAhPT0gbnVsbCk7XHJcblx0XHRcdHRoaXMub25TdWJtaXQoZmluYWxUYWdzKTtcclxuXHRcdFx0dGhpcy5jbG9zZSgpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRvbkNsb3NlKCkge1xyXG5cdFx0Y29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XHJcblx0XHRjb250ZW50RWwuZW1wdHkoKTtcclxuXHR9XHJcbn1cclxuXHJcbmNsYXNzIEF1dG9UYWdnZXJTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XHJcblx0cGx1Z2luOiBBdXRvVGFnZ2VyUGx1Z2luO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBBdXRvVGFnZ2VyUGx1Z2luKSB7XHJcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHR9XHJcblxyXG5cdGRpc3BsYXkoKTogdm9pZCB7XHJcblx0XHRjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xyXG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcclxuXHJcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdcdTgxRUFcdTUyQThcdTY4MDdcdTdCN0VcdTc1MUZcdTYyMTBcdThCQkVcdTdGNkUnIH0pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSgnQUkgXHU2M0QwXHU0RjlCXHU1NTQ2JylcclxuXHRcdFx0LnNldERlc2MoJ1x1OTAwOVx1NjJFOSBBSSBcdTY3MERcdTUyQTFcdTYzRDBcdTRGOUJcdTU1NDYnKVxyXG5cdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4ge1xyXG5cdFx0XHRcdE9iamVjdC5rZXlzKFBST1ZJREVSX0NPTkZJR1MpLmZvckVhY2gocHJvdmlkZXIgPT4ge1xyXG5cdFx0XHRcdFx0ZHJvcGRvd24uYWRkT3B0aW9uKHByb3ZpZGVyLCBwcm92aWRlciA9PT0gJ29wZW5haScgPyAnT3BlbkFJJyA6IFxyXG5cdFx0XHRcdFx0XHRwcm92aWRlciA9PT0gJ2dlbWluaScgPyAnR2VtaW5pJyA6IFxyXG5cdFx0XHRcdFx0XHRwcm92aWRlciA9PT0gJ2NsYXVkZScgPyAnQ2xhdWRlJyA6IFxyXG5cdFx0XHRcdFx0XHRwcm92aWRlciA9PT0gJ2RlZXBzZWVrJyA/ICdEZWVwU2VlayhcdTZERjFcdTVFQTZcdTZDNDJcdTdEMjIpJyA6IFxyXG5cdFx0XHRcdFx0XHQnRGVlcFNlZWsoXHU3MDZCXHU1QzcxXHU1RjE1XHU2NENFKScpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGRyb3Bkb3duLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnByb3ZpZGVyKTtcclxuXHRcdFx0XHRkcm9wZG93bi5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnByb3ZpZGVyID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdC8vIFx1NjZGNFx1NjVCMFx1OUVEOFx1OEJBNCBBUEkgVVJMIFx1NTQ4Q1x1NkEyMVx1NTc4QlxyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuYXBpVXJsID0gUFJPVklERVJfQ09ORklHU1t2YWx1ZV0uZGVmYXVsdFVybDtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm1vZGVsID0gUFJPVklERVJfQ09ORklHU1t2YWx1ZV0uZGVmYXVsdE1vZGVsO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0Ly8gXHU5MUNEXHU2NUIwXHU2NjNFXHU3OTNBXHU4QkJFXHU3RjZFXHU0RUU1XHU1M0NEXHU2NjIwXHU2NkY0XHU2NUIwXHJcblx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKCdBUEkgXHU1QkM2XHU5NEE1JylcclxuXHRcdFx0LnNldERlc2MoJ1x1OEY5M1x1NTE2NVx1NEY2MFx1NzY4NCBBUEkgXHU1QkM2XHU5NEE1JylcclxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdcdThCRjdcdThGOTNcdTUxNjUgQVBJIFx1NUJDNlx1OTRBNScpXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmFwaUtleSlcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5hcGlLZXkgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoJ0FQSSBcdTU3MzBcdTU3NDAnKVxyXG5cdFx0XHQuc2V0RGVzYygnXHU4RjkzXHU1MTY1IEFQSSBcdTU3MzBcdTU3NDAnKVxyXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoUFJPVklERVJfQ09ORklHU1t0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm92aWRlcl0uZGVmYXVsdFVybClcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYXBpVXJsKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmFwaVVybCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdC8vIFx1NEUzQVx1NzI3OVx1NUI5QVx1NjNEMFx1NEY5Qlx1NTU0Nlx1NkRGQlx1NTJBMFx1NjNEMFx1NzkzQVxyXG5cdFx0aWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnByb3ZpZGVyID09PSAnZ2VtaW5pJykge1xyXG5cdFx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgnZGl2JywgeyBcclxuXHRcdFx0XHR0ZXh0OiAnXHU2Q0U4XHU2MTBGXHVGRjFBR2VtaW5pIEFQSSBVUkwgXHU1RTk0XHU0RUU1IGh0dHBzOi8vZ2VuZXJhdGl2ZWxhbmd1YWdlLmdvb2dsZWFwaXMuY29tL3YxYmV0YS9tb2RlbHMvIFx1NUYwMFx1NTkzNFx1RkYwQ1x1NkEyMVx1NTc4Qlx1NTQwRFx1NzlGMFx1NUMwNlx1ODFFQVx1NTJBOFx1NkRGQlx1NTJBMFx1MzAwMicsIFxyXG5cdFx0XHRcdGNsczogJ3NldHRpbmctaXRlbS1kZXNjcmlwdGlvbicgXHJcblx0XHRcdH0pO1xyXG5cdFx0fSBlbHNlIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm92aWRlciA9PT0gJ3ZvbGNhbm8nKSB7XHJcblx0XHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdkaXYnLCB7IFxyXG5cdFx0XHRcdHRleHQ6ICdcdTZDRThcdTYxMEZcdUZGMUFcdTcwNkJcdTVDNzFcdTVGMTVcdTY0Q0UgQVBJIFVSTCBcdTVFOTRcdTRFRTUgaHR0cHM6Ly9hcmsuY24tYmVpamluZy52b2xjZXMuY29tL2FwaS92My9jaGF0L2NvbXBsZXRpb25zIFx1NUYwMFx1NTkzNFx1RkYwQ1x1NkEyMVx1NTc4Qlx1NjcwRFx1NTJBMVx1NTQwRFx1NzlGMFx1NUMwNlx1ODFFQVx1NTJBOFx1NkRGQlx1NTJBMFx1MzAwMicsIFxyXG5cdFx0XHRcdGNsczogJ3NldHRpbmctaXRlbS1kZXNjcmlwdGlvbicgXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSgnXHU2QTIxXHU1NzhCJylcclxuXHRcdFx0LnNldERlc2MoJ1x1OTAwOVx1NjJFOSBBSSBcdTZBMjFcdTU3OEInKVxyXG5cdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4ge1xyXG5cdFx0XHRcdGNvbnN0IG1vZGVscyA9IFBST1ZJREVSX0NPTkZJR1NbdGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvdmlkZXJdLm1vZGVscztcclxuXHRcdFx0XHRtb2RlbHMuZm9yRWFjaChtb2RlbCA9PiB7XHJcblx0XHRcdFx0XHRkcm9wZG93bi5hZGRPcHRpb24obW9kZWwsIG1vZGVsKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvLyBcdTU5ODJcdTY3OUNcdTVGNTNcdTUyNERcdThCQkVcdTdGNkVcdTc2ODRcdTZBMjFcdTU3OEJcdTRFMERcdTU3MjhcdTUyMTdcdTg4NjhcdTRFMkRcdUZGMENcdTUyMTlcdTZERkJcdTUyQTBcdTVCODNcclxuXHRcdFx0XHRpZiAoIW1vZGVscy5pbmNsdWRlcyh0aGlzLnBsdWdpbi5zZXR0aW5ncy5tb2RlbCkpIHtcclxuXHRcdFx0XHRcdGRyb3Bkb3duLmFkZE9wdGlvbih0aGlzLnBsdWdpbi5zZXR0aW5ncy5tb2RlbCwgdGhpcy5wbHVnaW4uc2V0dGluZ3MubW9kZWwpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRcclxuXHRcdFx0XHRkcm9wZG93bi5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5tb2RlbCk7XHJcblx0XHRcdFx0ZHJvcGRvd24ub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5tb2RlbCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdC8vIFx1NEUzQVx1NkJDRlx1NEUyQVx1NjNEMFx1NEY5Qlx1NTU0Nlx1NkRGQlx1NTJBMFx1ODFFQVx1NUI5QVx1NEU0OVx1NkEyMVx1NTc4Qlx1OEY5M1x1NTE2NVxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKCdcdTgxRUFcdTVCOUFcdTRFNDlcdTZBMjFcdTU3OEInKVxyXG5cdFx0XHQuc2V0RGVzYygnXHU4RjkzXHU1MTY1XHU4MUVBXHU1QjlBXHU0RTQ5XHU2QTIxXHU1NzhCXHU1NDBEXHU3OUYwIChcdTUzRUZcdTkwMDkpJylcclxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdcdTgxRUFcdTVCOUFcdTRFNDlcdTZBMjFcdTU3OEJcdTU0MERcdTc5RjAnKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdGlmICh2YWx1ZSkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5tb2RlbCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7IC8vIFx1OTFDRFx1NjVCMFx1NTJBMFx1OEY3RFx1OEJCRVx1N0Y2RVx1NEVFNVx1NjZGNFx1NjVCMFx1NEUwQlx1NjJDOVx1NTIxN1x1ODg2OFxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHQvLyBcdTZERkJcdTUyQTBcdTYzRDBcdTRGOUJcdTU1NDZcdTcyNzlcdTVCOUFcdTc2ODRcdTVFMkVcdTUyQTlcdTRGRTFcdTYwNkZcclxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ1x1NjNEMFx1NEY5Qlx1NTU0Nlx1OEJGNFx1NjYwRScgfSk7XHJcblxyXG5cdFx0Y29uc3QgcHJvdmlkZXJJbmZvID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KHsgY2xzOiAncHJvdmlkZXItaW5mbycgfSk7XHJcblx0XHRcclxuXHRcdHN3aXRjaCAodGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvdmlkZXIpIHtcclxuXHRcdFx0Y2FzZSAnb3BlbmFpJzpcclxuXHRcdFx0XHRwcm92aWRlckluZm8uY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdPcGVuQUkgQVBJIFx1NEY3Rlx1NzUyOFx1NjgwN1x1NTFDNlx1NzY4NCBjaGF0IGNvbXBsZXRpb25zIFx1NjNBNVx1NTNFM1x1MzAwMicgfSk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ2dlbWluaSc6XHJcblx0XHRcdFx0cHJvdmlkZXJJbmZvLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnR2VtaW5pIEFQSSBcdTk3MDBcdTg5ODFcdTRFRTUgXCJrZXk9XCIgXHU1RjYyXHU1RjBGXHU1NzI4IFVSTCBcdTRFMkRcdTk2NDRcdTUyQTAgQVBJIFx1NUJDNlx1OTRBNVx1MzAwMlx1NTcyOFx1NkI2NFx1OEJCRVx1N0Y2RVx1NEUyRFx1RkYwQ0FQSSBcdTVCQzZcdTk0QTVcdTVDMDZcdTgxRUFcdTUyQThcdTk2NDRcdTUyQTBcdTUyMzBcdThCRjdcdTZDNDIgVVJMXHUzMDAyJyB9KTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAnY2xhdWRlJzpcclxuXHRcdFx0XHRwcm92aWRlckluZm8uY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdDbGF1ZGUgQVBJIFx1OTcwMFx1ODk4MVx1NTcyOFx1OEJGN1x1NkM0Mlx1NTkzNFx1NEUyRFx1NkRGQlx1NTJBMCBcIngtYXBpLWtleVwiIFx1NUI1N1x1NkJCNVx1MzAwMicgfSk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ2RlZXBzZWVrJzpcclxuXHRcdFx0XHRwcm92aWRlckluZm8uY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdEZWVwU2VlayBBUEkgXHU0RjdGXHU3NTI4XHU0RTBFIE9wZW5BSSBcdTUxN0NcdTVCQjlcdTc2ODRcdTYzQTVcdTUzRTNcdTMwMDInIH0pO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlICd2b2xjYW5vJzpcclxuXHRcdFx0XHRwcm92aWRlckluZm8uY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdcdTcwNkJcdTVDNzFcdTVGMTVcdTY0Q0UgQVBJIFx1OTcwMFx1ODk4MVx1NTcyOFx1OEJGN1x1NkM0MiBVUkwgXHU0RTJEXHU2REZCXHU1MkEwXHU2QTIxXHU1NzhCXHU2NzBEXHU1MkExXHU1NDBEXHU3OUYwXHUzMDAyJyB9KTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQSxzQkFBOEc7QUFTOUcsSUFBTSxtQkFBdUM7QUFBQSxFQUM1QyxRQUFRO0FBQUEsRUFDUixRQUFRO0FBQUEsRUFDUixPQUFPO0FBQUEsRUFDUCxVQUFVO0FBQUE7QUFHWCxJQUFNLG1CQUFtQjtBQUFBLEVBQ3hCLFFBQVE7QUFBQSxJQUNQLFlBQVk7QUFBQSxJQUNaLGNBQWM7QUFBQSxJQUNkLFFBQVEsQ0FBQyxlQUFlLFVBQVU7QUFBQTtBQUFBLEVBRW5DLFFBQVE7QUFBQSxJQUNQLFlBQVk7QUFBQSxJQUNaLGNBQWM7QUFBQSxJQUNkLFFBQVEsQ0FBQyxjQUFjO0FBQUE7QUFBQSxFQUV4QixRQUFRO0FBQUEsSUFDUCxZQUFZO0FBQUEsSUFDWixjQUFjO0FBQUEsSUFDZCxRQUFRLENBQUMscUJBQXFCLHFCQUFxQixpQkFBaUI7QUFBQTtBQUFBLEVBRXJFLFVBQVU7QUFBQSxJQUNULFlBQVk7QUFBQSxJQUNaLGNBQWM7QUFBQSxJQUNkLFFBQVEsQ0FBQyxpQkFBaUI7QUFBQTtBQUFBLEVBRTNCLFNBQVM7QUFBQSxJQUNSLFlBQVk7QUFBQSxJQUNaLGNBQWM7QUFBQSxJQUNkLFFBQVEsQ0FBQztBQUFBO0FBQUE7QUFJWCxxQ0FBOEMsdUJBQU87QUFBQSxFQUc5QyxTQUFTO0FBQUE7QUFDZCxZQUFNLEtBQUs7QUFFWCxXQUFLLGNBQWMsT0FBTyw0QkFBUSxNQUFZO0FBQzdDLGNBQU0sS0FBSztBQUFBO0FBR1osV0FBSyxjQUFjLElBQUkscUJBQXFCLEtBQUssS0FBSztBQUFBO0FB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
