/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
var __markAsModule = (target) => __defProp(target, "__esModule", { value: true });
var __export = (target, all) => {
  __markAsModule(target);
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __reExport = (target, module2, desc) => {
  if (module2 && typeof module2 === "object" || typeof module2 === "function") {
    for (let key of __getOwnPropNames(module2))
      if (!__hasOwnProp.call(target, key) && key !== "default")
        __defProp(target, key, { get: () => module2[key], enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable });
  }
  return target;
};
var __toModule = (module2) => {
  return __reExport(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, "default", module2 && module2.__esModule && "default" in module2 ? { get: () => module2.default, enumerable: true } : { value: module2, enumerable: true })), module2);
};
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

// main.ts
__export(exports, {
  default: () => AutoTaggerPlugin
});
var import_obsidian = __toModule(require("obsidian"));

// src/errors/RequestError.ts
var RequestError = class extends Error {
  constructor(message, status) {
    super(message);
    this.status = status;
    this.name = "RequestError";
  }
};

// src/services/AIService.ts
var _AIService = class {
  constructor(config) {
    this.config = config;
  }
  makeRequest(url, options) {
    return __async(this, null, function* () {
      var _a;
      const controller = new AbortController();
      const timeoutId = setTimeout(() => controller.abort(), _AIService.TIMEOUT);
      try {
        const response = yield fetch(url, __spreadProps(__spreadValues({}, options), {
          signal: controller.signal
        }));
        if (!response.ok) {
          const error = yield response.json();
          throw new RequestError(((_a = error.error) == null ? void 0 : _a.message) || "\u8BF7\u6C42\u5931\u8D25", response.status);
        }
        return response;
      } catch (error) {
        if (error.name === "AbortError") {
          throw new RequestError("\u8BF7\u6C42\u8D85\u65F6", 408);
        }
        throw error;
      } finally {
        clearTimeout(timeoutId);
      }
    });
  }
  retryRequest(fn) {
    return __async(this, null, function* () {
      let lastError;
      for (let i = 0; i <= _AIService.MAX_RETRIES; i++) {
        try {
          return yield fn();
        } catch (error) {
          lastError = error;
          if (error instanceof RequestError && error.status >= 500) {
            yield new Promise((resolve) => setTimeout(resolve, Math.pow(2, i) * 1e3));
            continue;
          }
          throw error;
        }
      }
      throw lastError;
    });
  }
  generateTags(content) {
    return __async(this, null, function* () {
      const provider = this.getProviderFromUrl();
      const response = yield this.makeRequest(this.getFullApiUrl(provider), {
        method: "POST",
        headers: this.getHeaders(provider),
        body: JSON.stringify(this.getRequestBody(content, provider))
      });
      const data = yield response.json();
      return this.parseResponse(data, provider);
    });
  }
  getProviderFromUrl() {
    if (this.config.apiUrl.includes("generativelanguage.googleapis.com")) {
      return "gemini";
    }
    return "openai";
  }
  getFullApiUrl(provider) {
    if (provider === "gemini") {
      return `${this.config.apiUrl}${this.config.model}:generateContent?key=${this.config.apiKey}`;
    }
    return this.config.apiUrl;
  }
  getHeaders(provider) {
    const headers = {
      "Content-Type": "application/json"
    };
    if (provider !== "gemini" && this.config.apiKey) {
      headers["Authorization"] = `Bearer ${this.config.apiKey}`;
    }
    return headers;
  }
  getRequestBody(content, provider) {
    if (provider === "gemini") {
      return {
        contents: [
          {
            parts: [
              { text: _AIService.SYSTEM_PROMPT },
              { text: content }
            ]
          }
        ]
      };
    }
    return {
      model: this.config.model,
      messages: [
        {
          role: "system",
          content: _AIService.SYSTEM_PROMPT
        },
        {
          role: "user",
          content
        }
      ]
    };
  }
  parseResponse(data, provider) {
    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j;
    try {
      let tagsText = "";
      if (provider === "gemini") {
        tagsText = ((_f = (_e = (_d = (_c = (_b = (_a = data.candidates) == null ? void 0 : _a[0]) == null ? void 0 : _b.content) == null ? void 0 : _c.parts) == null ? void 0 : _d[0]) == null ? void 0 : _e.text) == null ? void 0 : _f.trim()) || "";
      } else {
        tagsText = ((_j = (_i = (_h = (_g = data.choices) == null ? void 0 : _g[0]) == null ? void 0 : _h.message) == null ? void 0 : _i.content) == null ? void 0 : _j.trim()) || "";
      }
      return tagsText.split(",").map((tag) => tag.trim()).filter((tag) => tag).map((tag) => tag.replace(/\s+/g, ""));
    } catch (error) {
      throw new Error("\u89E3\u6790 AI \u54CD\u5E94\u5931\u8D25");
    }
  }
};
var AIService = _AIService;
AIService.SYSTEM_PROMPT = "\u4F60\u662F\u4E00\u4E2A\u6587\u6863\u6807\u7B7E\u751F\u6210\u5668\u3002\u8BF7\u6839\u636E\u6587\u6863\u5185\u5BB9\u751F\u6210\u6700\u591A 3 \u4E2A\u76F8\u5173\u7684\u6807\u7B7E\u3002\u53EA\u9700\u8FD4\u56DE\u6807\u7B7E\uFF0C\u7528\u9017\u53F7\u5206\u9694\uFF0C\u4E0D\u8981\u5305\u542B\u5176\u4ED6\u89E3\u91CA\u6216\u8BF4\u660E\uFF0C\u7981\u6B62\u6587\u672C\u4E2D\u5305\u542B\u7A7A\u683C\u3002";
AIService.TIMEOUT = 3e4;
AIService.MAX_RETRIES = 2;

// main.ts
var DEFAULT_SETTINGS = {
  provider: "openai",
  providerSettings: {
    openai: {
      apiKey: "",
      apiUrl: "https://api.openai.com/v1/chat/completions",
      model: "gpt-4o-mini"
    },
    gemini: {
      apiKey: "",
      apiUrl: "https://generativelanguage.googleapis.com/v1beta/models/",
      model: "gemini-1.5-flash"
    },
    claude: {
      apiKey: "",
      apiUrl: "https://api.anthropic.com/v1/messages",
      model: "claude-3-5-sonnet"
    },
    deepseek: {
      apiKey: "",
      apiUrl: "https://api.deepseek.com/v1/chat/completions",
      model: "deepseek-chat"
    },
    volcano: {
      apiKey: "",
      apiUrl: "https://ark.cn-beijing.volces.com/api/v3/chat/completions",
      model: ""
    }
  }
};
var PROVIDER_CONFIGS = {
  openai: {
    defaultUrl: "https://api.openai.com/v1/chat/completions",
    defaultModel: "gpt-4o-mini",
    models: ["gpt-4o-mini", "gpt-4o", "gpt-3.5-turbo"]
  },
  gemini: {
    defaultUrl: "https://generativelanguage.googleapis.com/v1beta/models/",
    defaultModel: "gemini-1.5-flash",
    models: ["gemini-1.5-flash", "gemini-2.0-flash"]
  },
  claude: {
    defaultUrl: "https://api.anthropic.com/v1/messages",
    defaultModel: "claude-3-5-sonnet",
    models: ["claude-3-5-sonnet", "claude-3-7-sonnet", "claude-3-opus", "claude-3-haiku"]
  },
  deepseek: {
    defaultUrl: "https://api.deepseek.com/v1/chat/completions",
    defaultModel: "deepseek-chat",
    models: ["deepseek-chat", "deepseek-coder"]
  },
  volcano: {
    defaultUrl: "https://ark.cn-beijing.volces.com/api/v3/chat/completions",
    defaultModel: "",
    models: [""]
  }
};
var AutoTaggerPlugin = class extends import_obsidian.Plugin {
  onload() {
    return __async(this, null, function* () {
      yield this.loadSettings();
      this.addRibbonIcon("tag", "\u751F\u6210\u6807\u7B7E", () => __async(this, null, function* () {
        yield this.generateTags();
      }));
      this.addSettingTab(new AutoTaggerSettingTab(this.app, this));
    });
  }
  loadSettings() {
    return __async(this, null, function* () {
      this.settings = Object.assign({}, DEFAULT_SETTINGS, yield this.loadData());
    });
  }
  saveSettings() {
    return __async(this, null, function* () {
      yield this.saveData(this.settings);
    });
  }
  generateTags() {
    return __async(this, null, function* () {
      const activeView = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
      if (!activeView) {
        new import_obsidian.Notice("\u8BF7\u6253\u5F00\u4E00\u4E2A\u6587\u6863\u4EE5\u751F\u6210\u6807\u7B7E");
        return;
      }
      const file = activeView.file;
      const content = yield this.app.vault.read(file);
      const loadingNotice = new import_obsidian.Notice("\u6B63\u5728\u751F\u6210\u6807\u7B7E...", 0);
      try {
        const tags = yield this.analyzeTags(content);
        loadingNotice.hide();
        new TagSelectionModal(this.app, tags, (selectedTags) => __async(this, null, function* () {
          yield this.updateFileFrontMatter(file, selectedTags);
        })).open();
      } catch (error) {
        loadingNotice.hide();
        new import_obsidian.Notice(`\u751F\u6210\u6807\u7B7E\u5931\u8D25\uFF1A${error.message}`);
      }
    });
  }
  analyzeTags(content) {
    return __async(this, null, function* () {
      const currentProvider = this.settings.provider;
      const providerConfig = this.settings.providerSettings[currentProvider];
      if (!providerConfig || !providerConfig.apiKey) {
        throw new Error("\u8BF7\u5148\u5728\u8BBE\u7F6E\u4E2D\u914D\u7F6E API \u5BC6\u94A5");
      }
      const config = {
        apiKey: providerConfig.apiKey,
        apiUrl: providerConfig.apiUrl,
        model: providerConfig.model
      };
      const aiService = new AIService(config);
      try {
        return yield aiService.generateTags(content);
      } catch (error) {
        throw new Error(`\u751F\u6210\u6807\u7B7E\u5931\u8D25\uFF1A${error.message}`);
      }
    });
  }
  updateFileFrontMatter(file, newTags) {
    return __async(this, null, function* () {
      const content = yield this.app.vault.read(file);
      const yamlRegex = /^---\n([\s\S]*?)\n---/;
      const hasYaml = yamlRegex.test(content);
      let newContent;
      if (hasYaml) {
        const yamlMatch = content.match(yamlRegex);
        const yaml = yamlMatch[1];
        const tagsRegex = /^tags:\s*\[(.*)\]/m;
        const tagsMatch = yaml.match(tagsRegex);
        if (tagsMatch) {
          const existingTagsStr = tagsMatch[1];
          const existingTags = existingTagsStr.split(",").map((tag) => tag.trim()).filter((tag) => tag !== "");
          const allTags = [...new Set([...existingTags, ...newTags])];
          newContent = content.replace(tagsRegex, `tags: [${allTags.join(", ")}]`);
        } else {
          newContent = content.replace(yamlRegex, `---
${yaml}
tags: [${newTags.join(", ")}]
---`);
        }
      } else {
        newContent = `---
tags: [${newTags.join(", ")}]
---

${content}`;
      }
      yield this.app.vault.modify(file, newContent);
      new import_obsidian.Notice(`\u5DF2\u6210\u529F\u6DFB\u52A0\u6807\u7B7E\uFF1A${newTags.join(", ")}`);
    });
  }
};
var TagSelectionModal = class extends import_obsidian.Modal {
  constructor(app, tags, onSubmit) {
    super(app);
    this.tags = tags;
    this.onSubmit = onSubmit;
    this.selectedTags = [...tags];
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.createEl("h3", { text: "\u63A8\u8350\u6807\u7B7E" });
    const tagContainer = contentEl.createDiv({ cls: "tag-container" });
    this.tags.forEach((tag, index) => {
      const tagRow = tagContainer.createDiv({ cls: "tag-row" });
      const checkbox = tagRow.createEl("input", {
        type: "checkbox",
        attr: { checked: true }
      });
      const tagInput = tagRow.createEl("input", {
        type: "text",
        value: tag
      });
      checkbox.addEventListener("change", () => {
        if (checkbox.checked) {
          this.selectedTags[index] = tagInput.value;
        } else {
          this.selectedTags[index] = null;
        }
      });
      tagInput.addEventListener("input", () => {
        if (checkbox.checked) {
          this.selectedTags[index] = tagInput.value;
        }
      });
    });
    const buttonContainer = contentEl.createDiv({ cls: "button-container" });
    buttonContainer.createEl("button", { text: "\u53D6\u6D88" }).addEventListener("click", () => {
      this.close();
    });
    buttonContainer.createEl("button", { text: "\u786E\u5B9A" }).addEventListener("click", () => {
      const finalTags = this.selectedTags.filter((tag) => tag !== null);
      this.onSubmit(finalTags);
      this.close();
    });
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var AutoTaggerSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h3", { text: "\u81EA\u52A8\u6807\u7B7E\u751F\u6210\u8BBE\u7F6E" });
    const providerDescriptions = {
      openai: [
        "OpenAI",
        "\u2022 API \u5730\u5740\uFF1Ahttps://api.openai.com/v1/chat/completions",
        "\u2022 \u652F\u6301\u6A21\u578B\uFF1Agpt-4o-mini, gpt-4o, gpt-3.5-turbo"
      ],
      gemini: [
        "Gemini",
        "\u2022 API \u5730\u5740\uFF1Ahttps://generativelanguage.googleapis.com/v1beta/models/<MODEL_NAME>/generateContent",
        "\u2022 \u652F\u6301\u6A21\u578B\uFF1Agemini-1.5-flash, gemini-2.0-flash"
      ],
      claude: [
        "Claude",
        "\u2022 API \u5730\u5740\uFF1Ahttps://api.anthropic.com/v1/messages",
        "\u2022 \u652F\u6301\u6A21\u578B\uFF1Aclaude-3-5-sonnet, claude-3-7-sonnet, claude-3-opus, claude-3-haiku"
      ],
      deepseek: [
        "DeepSeek - \u6DF1\u5EA6\u6C42\u7D22",
        "\u2022 API \u5730\u5740\uFF1Ahttps://api.deepseek.com/v1/chat/completions",
        "\u2022 \u652F\u6301\u6A21\u578B\uFF1Adeepseek-chat, deepseek-coder"
      ],
      volcano: [
        "DeepSeek - \u706B\u5C71\u5F15\u64CE",
        "\u2022 API \u5730\u5740\uFF1Ahttps://ark.cn-beijing.volces.com/api/v3/chat/completions",
        "\u2022 \u6CE8\u610F\uFF1A\u9700\u8981\u5728\u8BF7\u6C42 URL \u4E2D\u6DFB\u52A0\u6A21\u578B\u670D\u52A1\u540D\u79F0"
      ]
    };
    const showProviderInfo = (provider) => {
      const providerSection = containerEl.querySelector(".provider-section");
      if (providerSection) {
        providerSection.remove();
      }
      const section = containerEl.createDiv({ cls: "provider-section" });
      const providerInfo = section.createDiv({ cls: "provider-info" });
      providerDescriptions[provider].forEach((text) => {
        providerInfo.createEl("p", { text });
      });
    };
    showProviderInfo(this.plugin.settings.provider);
    new import_obsidian.Setting(containerEl).setName("AI \u63D0\u4F9B\u5546").setDesc("\u9009\u62E9 AI \u670D\u52A1\u63D0\u4F9B\u5546").addDropdown((dropdown) => {
      Object.keys(PROVIDER_CONFIGS).forEach((provider) => {
        dropdown.addOption(provider, provider === "openai" ? "OpenAI" : provider === "gemini" ? "Gemini" : provider === "claude" ? "Claude\uFF08\u6D4B\u8BD5\u4E2D\uFF09" : provider === "deepseek" ? "DeepSeek - \u6DF1\u5EA6\u6C42\u7D22" : "DeepSeek - \u706B\u5C71\u5F15\u64CE");
      });
      dropdown.setValue(this.plugin.settings.provider);
      dropdown.onChange((value) => __async(this, null, function* () {
        this.plugin.settings.provider = value;
        if (!this.plugin.settings.providerSettings[value].apiUrl) {
          this.plugin.settings.providerSettings[value].apiUrl = PROVIDER_CONFIGS[value].defaultUrl;
        }
        this.plugin.settings.providerSettings[value].model = PROVIDER_CONFIGS[value].defaultModel;
        yield this.plugin.saveSettings();
        showProviderInfo(value);
        this.display();
      }));
    });
    new import_obsidian.Setting(containerEl).setName("API \u5BC6\u94A5").setDesc("\u8F93\u5165\u4F60\u7684 API \u5BC6\u94A5").addText((text) => text.setPlaceholder("\u8BF7\u8F93\u5165 API \u5BC6\u94A5").setValue(this.plugin.settings.providerSettings[this.plugin.settings.provider].apiKey).onChange((value) => __async(this, null, function* () {
      this.plugin.settings.providerSettings[this.plugin.settings.provider].apiKey = value;
      yield this.plugin.saveSettings();
    })));
    new import_obsidian.Setting(containerEl).setName("API \u5730\u5740").setDesc("\u8F93\u5165 API \u5730\u5740").addText((text) => text.setPlaceholder(PROVIDER_CONFIGS[this.plugin.settings.provider].defaultUrl).setValue(this.plugin.settings.providerSettings[this.plugin.settings.provider].apiUrl).onChange((value) => __async(this, null, function* () {
      this.plugin.settings.providerSettings[this.plugin.settings.provider].apiUrl = value;
      yield this.plugin.saveSettings();
    })));
    if (this.plugin.settings.provider === "gemini") {
      containerEl.createEl("div", {
        text: "\u6CE8\u610F\uFF1AGemini API URL \u5E94\u4EE5 https://generativelanguage.googleapis.com/v1beta/models/ \u5F00\u5934\uFF0C\u6A21\u578B\u540D\u79F0\u5C06\u81EA\u52A8\u6DFB\u52A0\u3002",
        cls: "setting-item-description"
      });
    } else if (this.plugin.settings.provider === "volcano") {
      containerEl.createEl("div", {
        text: "\u6CE8\u610F\uFF1A\u706B\u5C71\u5F15\u64CE API URL \u5E94\u4EE5 https://ark.cn-beijing.volces.com/api/v3/chat/completions \u5F00\u5934\uFF0C\u6A21\u578B\u670D\u52A1\u540D\u79F0\u5C06\u81EA\u52A8\u6DFB\u52A0\u3002",
        cls: "setting-item-description"
      });
    }
    new import_obsidian.Setting(containerEl).setName("\u6A21\u578B").setDesc("\u9009\u62E9 AI \u6A21\u578B").addDropdown((dropdown) => {
      const models = PROVIDER_CONFIGS[this.plugin.settings.provider].models;
      models.forEach((model) => {
        dropdown.addOption(model, model);
      });
      if (!models.includes(this.plugin.settings.model)) {
        dropdown.addOption(this.plugin.settings.model, this.plugin.settings.model);
      }
      dropdown.setValue(this.plugin.settings.providerSettings[this.plugin.settings.provider].model);
      dropdown.onChange((value) => __async(this, null, function* () {
        this.plugin.settings.providerSettings[this.plugin.settings.provider].model = value;
        yield this.plugin.saveSettings();
      }));
    });
    new import_obsidian.Setting(containerEl).setName("\u81EA\u5B9A\u4E49\u6A21\u578B").setDesc("\u8F93\u5165\u81EA\u5B9A\u4E49\u6A21\u578B\u540D\u79F0 (\u53EF\u9009)").addText((text) => text.setPlaceholder("\u81EA\u5B9A\u4E49\u6A21\u578B\u540D\u79F0").setValue(this.plugin.settings.providerSettings[this.plugin.settings.provider].model).onChange((value) => __async(this, null, function* () {
      if (value) {
        this.plugin.settings.providerSettings[this.plugin.settings.provider].model = value;
        yield this.plugin.saveSettings();
        this.display();
      }
    })));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJzcmMvZXJyb3JzL1JlcXVlc3RFcnJvci50cyIsICJzcmMvc2VydmljZXMvQUlTZXJ2aWNlLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgeyBBcHAsIFBsdWdpbiwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZywgVEZpbGUsIE5vdGljZSwgTW9kYWwsIE1hcmtkb3duVmlldywgRHJvcGRvd25Db21wb25lbnQgfSBmcm9tICdvYnNpZGlhbic7XHJcblxyXG5pbXBvcnQgeyBBSVNlcnZpY2UsIEFJU2VydmljZUNvbmZpZyB9IGZyb20gJy4vc3JjL3NlcnZpY2VzL0FJU2VydmljZSc7XHJcblxyXG5pbnRlcmZhY2UgUHJvdmlkZXJTZXR0aW5ncyB7XHJcblx0YXBpS2V5OiBzdHJpbmc7XHJcblx0YXBpVXJsOiBzdHJpbmc7XHJcblx0bW9kZWw6IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIEF1dG9UYWdnZXJTZXR0aW5ncyB7XHJcblx0cHJvdmlkZXI6IHN0cmluZztcclxuXHRwcm92aWRlclNldHRpbmdzOiBSZWNvcmQ8c3RyaW5nLCBQcm92aWRlclNldHRpbmdzPjtcclxufVxyXG5cclxuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogQXV0b1RhZ2dlclNldHRpbmdzID0ge1xyXG5cdHByb3ZpZGVyOiAnb3BlbmFpJyxcclxuXHRwcm92aWRlclNldHRpbmdzOiB7XHJcblx0XHRvcGVuYWk6IHtcclxuXHRcdFx0YXBpS2V5OiAnJyxcclxuXHRcdFx0YXBpVXJsOiAnaHR0cHM6Ly9hcGkub3BlbmFpLmNvbS92MS9jaGF0L2NvbXBsZXRpb25zJyxcclxuXHRcdFx0bW9kZWw6ICdncHQtNG8tbWluaSdcclxuXHRcdH0sXHJcblx0XHRnZW1pbmk6IHtcclxuXHRcdFx0YXBpS2V5OiAnJyxcclxuXHRcdFx0YXBpVXJsOiAnaHR0cHM6Ly9nZW5lcmF0aXZlbGFuZ3VhZ2UuZ29vZ2xlYXBpcy5jb20vdjFiZXRhL21vZGVscy8nLFxyXG5cdFx0XHRtb2RlbDogJ2dlbWluaS0xLjUtZmxhc2gnXHJcblx0XHR9LFxyXG5cdFx0Y2xhdWRlOiB7XHJcblx0XHRcdGFwaUtleTogJycsXHJcblx0XHRcdGFwaVVybDogJ2h0dHBzOi8vYXBpLmFudGhyb3BpYy5jb20vdjEvbWVzc2FnZXMnLFxyXG5cdFx0XHRtb2RlbDogJ2NsYXVkZS0zLTUtc29ubmV0J1xyXG5cdFx0fSxcclxuXHRcdGRlZXBzZWVrOiB7XHJcblx0XHRcdGFwaUtleTogJycsXHJcblx0XHRcdGFwaVVybDogJ2h0dHBzOi8vYXBpLmRlZXBzZWVrLmNvbS92MS9jaGF0L2NvbXBsZXRpb25zJyxcclxuXHRcdFx0bW9kZWw6ICdkZWVwc2Vlay1jaGF0J1xyXG5cdFx0fSxcclxuXHRcdHZvbGNhbm86IHtcclxuXHRcdFx0YXBpS2V5OiAnJyxcclxuXHRcdFx0YXBpVXJsOiAnaHR0cHM6Ly9hcmsuY24tYmVpamluZy52b2xjZXMuY29tL2FwaS92My9jaGF0L2NvbXBsZXRpb25zJyxcclxuXHRcdFx0bW9kZWw6ICcnXHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBQUk9WSURFUl9DT05GSUdTID0ge1xyXG5cdG9wZW5haToge1xyXG5cdFx0ZGVmYXVsdFVybDogJ2h0dHBzOi8vYXBpLm9wZW5haS5jb20vdjEvY2hhdC9jb21wbGV0aW9ucycsXHJcblx0XHRkZWZhdWx0TW9kZWw6ICdncHQtNG8tbWluaScsXHJcblx0XHRtb2RlbHM6IFsnZ3B0LTRvLW1pbmknLCAnZ3B0LTRvJywgJ2dwdC0zLjUtdHVyYm8nXVxyXG5cdH0sXHJcblx0Z2VtaW5pOiB7XHJcblx0XHRkZWZhdWx0VXJsOiAnaHR0cHM6Ly9nZW5lcmF0aXZlbGFuZ3VhZ2UuZ29vZ2xlYXBpcy5jb20vdjFiZXRhL21vZGVscy8nLFxyXG5cdFx0ZGVmYXVsdE1vZGVsOiAnZ2VtaW5pLTEuNS1mbGFzaCcsXHJcblx0XHRtb2RlbHM6IFsnZ2VtaW5pLTEuNS1mbGFzaCcsICdnZW1pbmktMi4wLWZsYXNoJ11cclxuXHR9LFxyXG5cdGNsYXVkZToge1xyXG5cdFx0ZGVmYXVsdFVybDogJ2h0dHBzOi8vYXBpLmFudGhyb3BpYy5jb20vdjEvbWVzc2FnZXMnLFxyXG5cdFx0ZGVmYXVsdE1vZGVsOiAnY2xhdWRlLTMtNS1zb25uZXQnLFxyXG5cdFx0bW9kZWxzOiBbJ2NsYXVkZS0zLTUtc29ubmV0JywgJ2NsYXVkZS0zLTctc29ubmV0JywgJ2NsYXVkZS0zLW9wdXMnLCAnY2xhdWRlLTMtaGFpa3UnXVxyXG5cdH0sXHJcblx0ZGVlcHNlZWs6IHtcclxuXHRcdGRlZmF1bHRVcmw6ICdodHRwczovL2FwaS5kZWVwc2Vlay5jb20vdjEvY2hhdC9jb21wbGV0aW9ucycsXHJcblx0XHRkZWZhdWx0TW9kZWw6ICdkZWVwc2Vlay1jaGF0JyxcclxuXHRcdG1vZGVsczogWydkZWVwc2Vlay1jaGF0JywgJ2RlZXBzZWVrLWNvZGVyJ11cclxuXHR9LFxyXG5cdHZvbGNhbm86IHtcclxuXHRcdGRlZmF1bHRVcmw6ICdodHRwczovL2Fyay5jbi1iZWlqaW5nLnZvbGNlcy5jb20vYXBpL3YzL2NoYXQvY29tcGxldGlvbnMnLFxyXG5cdFx0ZGVmYXVsdE1vZGVsOiAnJyxcclxuXHRcdG1vZGVsczogWycnXVxyXG5cdH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEF1dG9UYWdnZXJQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xyXG5cdHNldHRpbmdzOiBBdXRvVGFnZ2VyU2V0dGluZ3M7XHJcblxyXG5cdGFzeW5jIG9ubG9hZCgpIHtcclxuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XHJcblxyXG5cdFx0dGhpcy5hZGRSaWJib25JY29uKCd0YWcnLCAnXHU3NTFGXHU2MjEwXHU2ODA3XHU3QjdFJywgYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRhd2FpdCB0aGlzLmdlbmVyYXRlVGFncygpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBBdXRvVGFnZ2VyU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xyXG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XHJcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgZ2VuZXJhdGVUYWdzKCkge1xyXG5cdFx0Y29uc3QgYWN0aXZlVmlldyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldyk7XHJcblx0XHRpZiAoIWFjdGl2ZVZpZXcpIHtcclxuXHRcdFx0bmV3IE5vdGljZSgnXHU4QkY3XHU2MjUzXHU1RjAwXHU0RTAwXHU0RTJBXHU2NTg3XHU2ODYzXHU0RUU1XHU3NTFGXHU2MjEwXHU2ODA3XHU3QjdFJyk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBmaWxlID0gYWN0aXZlVmlldy5maWxlO1xyXG5cdFx0Y29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWQoZmlsZSk7XHJcblxyXG5cdFx0Y29uc3QgbG9hZGluZ05vdGljZSA9IG5ldyBOb3RpY2UoJ1x1NkI2M1x1NTcyOFx1NzUxRlx1NjIxMFx1NjgwN1x1N0I3RS4uLicsIDApO1xyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IHRhZ3MgPSBhd2FpdCB0aGlzLmFuYWx5emVUYWdzKGNvbnRlbnQpO1xyXG5cdFx0XHRsb2FkaW5nTm90aWNlLmhpZGUoKTtcclxuXHJcblx0XHRcdG5ldyBUYWdTZWxlY3Rpb25Nb2RhbCh0aGlzLmFwcCwgdGFncywgYXN5bmMgKHNlbGVjdGVkVGFncykgPT4ge1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMudXBkYXRlRmlsZUZyb250TWF0dGVyKGZpbGUsIHNlbGVjdGVkVGFncyk7XHJcblx0XHRcdH0pLm9wZW4oKTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGxvYWRpbmdOb3RpY2UuaGlkZSgpO1xyXG5cdFx0XHRuZXcgTm90aWNlKGBcdTc1MUZcdTYyMTBcdTY4MDdcdTdCN0VcdTU5MzFcdThEMjVcdUZGMUEke2Vycm9yLm1lc3NhZ2V9YCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRhc3luYyBhbmFseXplVGFncyhjb250ZW50OiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZ1tdPiB7XHJcblx0XHRjb25zdCBjdXJyZW50UHJvdmlkZXIgPSB0aGlzLnNldHRpbmdzLnByb3ZpZGVyO1xyXG5cdFx0Y29uc3QgcHJvdmlkZXJDb25maWcgPSB0aGlzLnNldHRpbmdzLnByb3ZpZGVyU2V0dGluZ3NbY3VycmVudFByb3ZpZGVyXTtcclxuXHJcblx0XHRpZiAoIXByb3ZpZGVyQ29uZmlnIHx8ICFwcm92aWRlckNvbmZpZy5hcGlLZXkpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdcdThCRjdcdTUxNDhcdTU3MjhcdThCQkVcdTdGNkVcdTRFMkRcdTkxNERcdTdGNkUgQVBJIFx1NUJDNlx1OTRBNScpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGNvbmZpZzogQUlTZXJ2aWNlQ29uZmlnID0ge1xyXG5cdFx0XHRhcGlLZXk6IHByb3ZpZGVyQ29uZmlnLmFwaUtleSxcclxuXHRcdFx0YXBpVXJsOiBwcm92aWRlckNvbmZpZy5hcGlVcmwsXHJcblx0XHRcdG1vZGVsOiBwcm92aWRlckNvbmZpZy5tb2RlbFxyXG5cdFx0fTtcclxuXHJcblx0XHRjb25zdCBhaVNlcnZpY2UgPSBuZXcgQUlTZXJ2aWNlKGNvbmZpZyk7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRyZXR1cm4gYXdhaXQgYWlTZXJ2aWNlLmdlbmVyYXRlVGFncyhjb250ZW50KTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihgXHU3NTFGXHU2MjEwXHU2ODA3XHU3QjdFXHU1OTMxXHU4RDI1XHVGRjFBJHtlcnJvci5tZXNzYWdlfWApO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YXN5bmMgdXBkYXRlRmlsZUZyb250TWF0dGVyKGZpbGU6IFRGaWxlLCBuZXdUYWdzOiBzdHJpbmdbXSkge1xyXG5cdFx0Y29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWQoZmlsZSk7XHJcblxyXG5cdFx0Y29uc3QgeWFtbFJlZ2V4ID0gL14tLS1cXG4oW1xcc1xcU10qPylcXG4tLS0vO1xyXG5cdFx0Y29uc3QgaGFzWWFtbCA9IHlhbWxSZWdleC50ZXN0KGNvbnRlbnQpO1xyXG5cclxuXHRcdGxldCBuZXdDb250ZW50O1xyXG5cdFx0aWYgKGhhc1lhbWwpIHtcclxuXHRcdFx0Y29uc3QgeWFtbE1hdGNoID0gY29udGVudC5tYXRjaCh5YW1sUmVnZXgpO1xyXG5cdFx0XHRjb25zdCB5YW1sID0geWFtbE1hdGNoWzFdO1xyXG5cdFx0XHRjb25zdCB0YWdzUmVnZXggPSAvXnRhZ3M6XFxzKlxcWyguKilcXF0vbTtcclxuXHRcdFx0Y29uc3QgdGFnc01hdGNoID0geWFtbC5tYXRjaCh0YWdzUmVnZXgpO1xyXG5cclxuXHRcdFx0aWYgKHRhZ3NNYXRjaCkge1xyXG5cdFx0XHRcdGNvbnN0IGV4aXN0aW5nVGFnc1N0ciA9IHRhZ3NNYXRjaFsxXTtcclxuXHRcdFx0XHRjb25zdCBleGlzdGluZ1RhZ3MgPSBleGlzdGluZ1RhZ3NTdHJcclxuXHRcdFx0XHRcdC5zcGxpdCgnLCcpXHJcblx0XHRcdFx0XHQubWFwKHRhZyA9PiB0YWcudHJpbSgpKVxyXG5cdFx0XHRcdFx0LmZpbHRlcih0YWcgPT4gdGFnICE9PSAnJyk7XHJcblxyXG5cdFx0XHRcdGNvbnN0IGFsbFRhZ3MgPSBbLi4ubmV3IFNldChbLi4uZXhpc3RpbmdUYWdzLCAuLi5uZXdUYWdzXSldO1xyXG5cclxuXHRcdFx0XHRuZXdDb250ZW50ID0gY29udGVudC5yZXBsYWNlKHRhZ3NSZWdleCwgYHRhZ3M6IFske2FsbFRhZ3Muam9pbignLCAnKX1dYCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0bmV3Q29udGVudCA9IGNvbnRlbnQucmVwbGFjZSh5YW1sUmVnZXgsIGAtLS1cXG4ke3lhbWx9XFxudGFnczogWyR7bmV3VGFncy5qb2luKCcsICcpfV1cXG4tLS1gKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0bmV3Q29udGVudCA9IGAtLS1cXG50YWdzOiBbJHtuZXdUYWdzLmpvaW4oJywgJyl9XVxcbi0tLVxcblxcbiR7Y29udGVudH1gO1xyXG5cdFx0fVxyXG5cclxuXHRcdGF3YWl0IHRoaXMuYXBwLnZhdWx0Lm1vZGlmeShmaWxlLCBuZXdDb250ZW50KTtcclxuXHRcdG5ldyBOb3RpY2UoYFx1NURGMlx1NjIxMFx1NTI5Rlx1NkRGQlx1NTJBMFx1NjgwN1x1N0I3RVx1RkYxQSR7bmV3VGFncy5qb2luKCcsICcpfWApO1xyXG5cdH1cclxufVxyXG5cclxuY2xhc3MgVGFnU2VsZWN0aW9uTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XHJcblx0dGFnczogc3RyaW5nW107XHJcblx0b25TdWJtaXQ6ICh0YWdzOiBzdHJpbmdbXSkgPT4gdm9pZDtcclxuXHRzZWxlY3RlZFRhZ3M6IHN0cmluZ1tdO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgdGFnczogc3RyaW5nW10sIG9uU3VibWl0OiAodGFnczogc3RyaW5nW10pID0+IHZvaWQpIHtcclxuXHRcdHN1cGVyKGFwcCk7XHJcblx0XHR0aGlzLnRhZ3MgPSB0YWdzO1xyXG5cdFx0dGhpcy5vblN1Ym1pdCA9IG9uU3VibWl0O1xyXG5cdFx0dGhpcy5zZWxlY3RlZFRhZ3MgPSBbLi4udGFnc107XHJcblx0fVxyXG5cclxuXHRvbk9wZW4oKSB7XHJcblx0XHRjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcclxuXHJcblx0XHRjb250ZW50RWwuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnXHU2M0E4XHU4MzUwXHU2ODA3XHU3QjdFJyB9KTtcclxuXHJcblx0XHRjb25zdCB0YWdDb250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAndGFnLWNvbnRhaW5lcicgfSk7XHJcblxyXG5cdFx0dGhpcy50YWdzLmZvckVhY2goKHRhZywgaW5kZXgpID0+IHtcclxuXHRcdFx0Y29uc3QgdGFnUm93ID0gdGFnQ29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3RhZy1yb3cnIH0pO1xyXG5cclxuXHRcdFx0Y29uc3QgY2hlY2tib3ggPSB0YWdSb3cuY3JlYXRlRWwoJ2lucHV0Jywge1xyXG5cdFx0XHRcdHR5cGU6ICdjaGVja2JveCcsXHJcblx0XHRcdFx0YXR0cjogeyBjaGVja2VkOiB0cnVlIH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRjb25zdCB0YWdJbnB1dCA9IHRhZ1Jvdy5jcmVhdGVFbCgnaW5wdXQnLCB7XHJcblx0XHRcdFx0dHlwZTogJ3RleHQnLFxyXG5cdFx0XHRcdHZhbHVlOiB0YWdcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XHJcblx0XHRcdFx0aWYgKGNoZWNrYm94LmNoZWNrZWQpIHtcclxuXHRcdFx0XHRcdHRoaXMuc2VsZWN0ZWRUYWdzW2luZGV4XSA9IHRhZ0lucHV0LnZhbHVlO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHR0aGlzLnNlbGVjdGVkVGFnc1tpbmRleF0gPSBudWxsO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHR0YWdJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuXHRcdFx0XHRpZiAoY2hlY2tib3guY2hlY2tlZCkge1xyXG5cdFx0XHRcdFx0dGhpcy5zZWxlY3RlZFRhZ3NbaW5kZXhdID0gdGFnSW5wdXQudmFsdWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdGNvbnN0IGJ1dHRvbkNvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoeyBjbHM6ICdidXR0b24tY29udGFpbmVyJyB9KTtcclxuXHJcblx0XHRidXR0b25Db250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1x1NTNENlx1NkQ4OCcgfSkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdHRoaXMuY2xvc2UoKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdGJ1dHRvbkNvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnXHU3ODZFXHU1QjlBJyB9KS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdFx0Y29uc3QgZmluYWxUYWdzID0gdGhpcy5zZWxlY3RlZFRhZ3MuZmlsdGVyKHRhZyA9PiB0YWcgIT09IG51bGwpO1xyXG5cdFx0XHR0aGlzLm9uU3VibWl0KGZpbmFsVGFncyk7XHJcblx0XHRcdHRoaXMuY2xvc2UoKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0b25DbG9zZSgpIHtcclxuXHRcdGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xyXG5cdFx0Y29udGVudEVsLmVtcHR5KCk7XHJcblx0fVxyXG59XHJcblxyXG5jbGFzcyBBdXRvVGFnZ2VyU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG5cdHBsdWdpbjogQXV0b1RhZ2dlclBsdWdpbjtcclxuXHJcblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogQXV0b1RhZ2dlclBsdWdpbikge1xyXG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0fVxyXG5cclxuXHRkaXNwbGF5KCk6IHZvaWQge1xyXG5cdFx0Y29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcclxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XHJcblxyXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnXHU4MUVBXHU1MkE4XHU2ODA3XHU3QjdFXHU3NTFGXHU2MjEwXHU4QkJFXHU3RjZFJyB9KTtcclxuXHJcblx0XHQvLyBcdTZERkJcdTUyQTBcdTYzRDBcdTRGOUJcdTU1NDZcdThCRjRcdTY2MEVcclxuXHRcdGNvbnN0IHByb3ZpZGVyRGVzY3JpcHRpb25zID0ge1xyXG5cdFx0XHRvcGVuYWk6IFtcclxuXHRcdFx0XHQnT3BlbkFJJyxcclxuXHRcdFx0XHQnXHUyMDIyIEFQSSBcdTU3MzBcdTU3NDBcdUZGMUFodHRwczovL2FwaS5vcGVuYWkuY29tL3YxL2NoYXQvY29tcGxldGlvbnMnLFxyXG5cdFx0XHRcdCdcdTIwMjIgXHU2NTJGXHU2MzAxXHU2QTIxXHU1NzhCXHVGRjFBZ3B0LTRvLW1pbmksIGdwdC00bywgZ3B0LTMuNS10dXJibydcclxuXHRcdFx0XSxcclxuXHRcdFx0Z2VtaW5pOiBbXHJcblx0XHRcdFx0J0dlbWluaScsXHJcblx0XHRcdFx0J1x1MjAyMiBBUEkgXHU1NzMwXHU1NzQwXHVGRjFBaHR0cHM6Ly9nZW5lcmF0aXZlbGFuZ3VhZ2UuZ29vZ2xlYXBpcy5jb20vdjFiZXRhL21vZGVscy88TU9ERUxfTkFNRT4vZ2VuZXJhdGVDb250ZW50JyxcclxuXHRcdFx0XHQnXHUyMDIyIFx1NjUyRlx1NjMwMVx1NkEyMVx1NTc4Qlx1RkYxQWdlbWluaS0xLjUtZmxhc2gsIGdlbWluaS0yLjAtZmxhc2gnXHJcblx0XHRcdF0sXHJcblx0XHRcdGNsYXVkZTogW1xyXG5cdFx0XHRcdCdDbGF1ZGUnLFxyXG5cdFx0XHRcdCdcdTIwMjIgQVBJIFx1NTczMFx1NTc0MFx1RkYxQWh0dHBzOi8vYXBpLmFudGhyb3BpYy5jb20vdjEvbWVzc2FnZXMnLFxyXG5cdFx0XHRcdCdcdTIwMjIgXHU2NTJGXHU2MzAxXHU2QTIxXHU1NzhCXHVGRjFBY2xhdWRlLTMtNS1zb25uZXQsIGNsYXVkZS0zLTctc29ubmV0LCBjbGF1ZGUtMy1vcHVzLCBjbGF1ZGUtMy1oYWlrdSdcclxuXHRcdFx0XSxcclxuXHRcdFx0ZGVlcHNlZWs6IFtcclxuXHRcdFx0XHQnRGVlcFNlZWsgLSBcdTZERjFcdTVFQTZcdTZDNDJcdTdEMjInLFxyXG5cdFx0XHRcdCdcdTIwMjIgQVBJIFx1NTczMFx1NTc0MFx1RkYxQWh0dHBzOi8vYXBpLmRlZXBzZWVrLmNvbS92MS9jaGF0L2NvbXBsZXRpb25zJyxcclxuXHRcdFx0XHQnXHUyMDIyIFx1NjUyRlx1NjMwMVx1NkEyMVx1NTc4Qlx1RkYxQWRlZXBzZWVrLWNoYXQsIGRlZXBzZWVrLWNvZGVyJ1xyXG5cdFx0XHRdLFxyXG5cdFx0XHR2b2xjYW5vOiBbXHJcblx0XHRcdFx0J0RlZXBTZWVrIC0gXHU3MDZCXHU1QzcxXHU1RjE1XHU2NENFJyxcclxuXHRcdFx0XHQnXHUyMDIyIEFQSSBcdTU3MzBcdTU3NDBcdUZGMUFodHRwczovL2Fyay5jbi1iZWlqaW5nLnZvbGNlcy5jb20vYXBpL3YzL2NoYXQvY29tcGxldGlvbnMnLFxyXG5cdFx0XHRcdCdcdTIwMjIgXHU2Q0U4XHU2MTBGXHVGRjFBXHU5NzAwXHU4OTgxXHU1NzI4XHU4QkY3XHU2QzQyIFVSTCBcdTRFMkRcdTZERkJcdTUyQTBcdTZBMjFcdTU3OEJcdTY3MERcdTUyQTFcdTU0MERcdTc5RjAnXHJcblx0XHRcdF1cclxuXHRcdH07XHJcblxyXG5cdFx0Y29uc3Qgc2hvd1Byb3ZpZGVySW5mbyA9IChwcm92aWRlcjogc3RyaW5nKSA9PiB7XHJcblx0XHRcdGNvbnN0IHByb3ZpZGVyU2VjdGlvbiA9IGNvbnRhaW5lckVsLnF1ZXJ5U2VsZWN0b3IoJy5wcm92aWRlci1zZWN0aW9uJyk7XHJcblx0XHRcdGlmIChwcm92aWRlclNlY3Rpb24pIHtcclxuXHRcdFx0XHRwcm92aWRlclNlY3Rpb24ucmVtb3ZlKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNvbnN0IHNlY3Rpb24gPSBjb250YWluZXJFbC5jcmVhdGVEaXYoeyBjbHM6ICdwcm92aWRlci1zZWN0aW9uJyB9KTtcclxuXHRcdFx0Y29uc3QgcHJvdmlkZXJJbmZvID0gc2VjdGlvbi5jcmVhdGVEaXYoeyBjbHM6ICdwcm92aWRlci1pbmZvJyB9KTtcclxuXHJcblx0XHRcdHByb3ZpZGVyRGVzY3JpcHRpb25zW3Byb3ZpZGVyXS5mb3JFYWNoKHRleHQgPT4ge1xyXG5cdFx0XHRcdHByb3ZpZGVySW5mby5jcmVhdGVFbCgncCcsIHsgdGV4dCB9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8vIFx1NjYzRVx1NzkzQVx1NUY1M1x1NTI0RFx1OTAwOVx1NjJFOVx1NzY4NFx1NjNEMFx1NEY5Qlx1NTU0Nlx1NEZFMVx1NjA2RlxyXG5cdFx0c2hvd1Byb3ZpZGVySW5mbyh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm92aWRlcik7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKCdBSSBcdTYzRDBcdTRGOUJcdTU1NDYnKVxyXG5cdFx0XHQuc2V0RGVzYygnXHU5MDA5XHU2MkU5IEFJIFx1NjcwRFx1NTJBMVx1NjNEMFx1NEY5Qlx1NTU0NicpXHJcblx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiB7XHJcblx0XHRcdFx0T2JqZWN0LmtleXMoUFJPVklERVJfQ09ORklHUykuZm9yRWFjaChwcm92aWRlciA9PiB7XHJcblx0XHRcdFx0XHRkcm9wZG93bi5hZGRPcHRpb24ocHJvdmlkZXIsIHByb3ZpZGVyID09PSAnb3BlbmFpJyA/ICdPcGVuQUknIDogXHJcblx0XHRcdFx0XHRcdHByb3ZpZGVyID09PSAnZ2VtaW5pJyA/ICdHZW1pbmknIDogXHJcblx0XHRcdFx0XHRcdHByb3ZpZGVyID09PSAnY2xhdWRlJyA/ICdDbGF1ZGVcdUZGMDhcdTZENEJcdThCRDVcdTRFMkRcdUZGMDknIDogXHJcblx0XHRcdFx0XHRcdHByb3ZpZGVyID09PSAnZGVlcHNlZWsnID8gJ0RlZXBTZWVrIC0gXHU2REYxXHU1RUE2XHU2QzQyXHU3RDIyJyA6IFxyXG5cdFx0XHRcdFx0XHQnRGVlcFNlZWsgLSBcdTcwNkJcdTVDNzFcdTVGMTVcdTY0Q0UnKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRkcm9wZG93bi5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm92aWRlcik7XHJcblx0XHRcdFx0ZHJvcGRvd24ub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm92aWRlciA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHQvLyBcdTUzRUFcdTU3MjhcdTk5OTZcdTZCMjFcdThCQkVcdTdGNkVcdTYyMTYgQVBJIFx1NTczMFx1NTc0MFx1NEUzQVx1N0E3QVx1NjVGNlx1NEY3Rlx1NzUyOFx1OUVEOFx1OEJBNCBBUEkgVVJMXHJcblx0XHRcdFx0XHRpZiAoIXRoaXMucGx1Z2luLnNldHRpbmdzLnByb3ZpZGVyU2V0dGluZ3NbdmFsdWVdLmFwaVVybCkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm92aWRlclNldHRpbmdzW3ZhbHVlXS5hcGlVcmwgPSBQUk9WSURFUl9DT05GSUdTW3ZhbHVlXS5kZWZhdWx0VXJsO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvdmlkZXJTZXR0aW5nc1t2YWx1ZV0ubW9kZWwgPSBQUk9WSURFUl9DT05GSUdTW3ZhbHVlXS5kZWZhdWx0TW9kZWw7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBcdTY2RjRcdTY1QjBcdTYzRDBcdTRGOUJcdTU1NDZcdTRGRTFcdTYwNkZcdTY2M0VcdTc5M0FcclxuXHRcdFx0XHRcdHNob3dQcm92aWRlckluZm8odmFsdWUpO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHQvLyBcdTkxQ0RcdTY1QjBcdTY2M0VcdTc5M0FcdThCQkVcdTdGNkVcdTRFRTVcdTUzQ0RcdTY2MjBcdTY2RjRcdTY1QjBcclxuXHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoJ0FQSSBcdTVCQzZcdTk0QTUnKVxyXG5cdFx0XHQuc2V0RGVzYygnXHU4RjkzXHU1MTY1XHU0RjYwXHU3Njg0IEFQSSBcdTVCQzZcdTk0QTUnKVxyXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ1x1OEJGN1x1OEY5M1x1NTE2NSBBUEkgXHU1QkM2XHU5NEE1JylcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvdmlkZXJTZXR0aW5nc1t0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm92aWRlcl0uYXBpS2V5KVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnByb3ZpZGVyU2V0dGluZ3NbdGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvdmlkZXJdLmFwaUtleSA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSgnQVBJIFx1NTczMFx1NTc0MCcpXHJcblx0XHRcdC5zZXREZXNjKCdcdThGOTNcdTUxNjUgQVBJIFx1NTczMFx1NTc0MCcpXHJcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcihQUk9WSURFUl9DT05GSUdTW3RoaXMucGx1Z2luLnNldHRpbmdzLnByb3ZpZGVyXS5kZWZhdWx0VXJsKVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm92aWRlclNldHRpbmdzW3RoaXMucGx1Z2luLnNldHRpbmdzLnByb3ZpZGVyXS5hcGlVcmwpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvdmlkZXJTZXR0aW5nc1t0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm92aWRlcl0uYXBpVXJsID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0Ly8gXHU0RTNBXHU3Mjc5XHU1QjlBXHU2M0QwXHU0RjlCXHU1NTQ2XHU2REZCXHU1MkEwXHU2M0QwXHU3OTNBXHJcblx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvdmlkZXIgPT09ICdnZW1pbmknKSB7XHJcblx0XHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdkaXYnLCB7IFxyXG5cdFx0XHRcdHRleHQ6ICdcdTZDRThcdTYxMEZcdUZGMUFHZW1pbmkgQVBJIFVSTCBcdTVFOTRcdTRFRTUgaHR0cHM6Ly9nZW5lcmF0aXZlbGFuZ3VhZ2UuZ29vZ2xlYXBpcy5jb20vdjFiZXRhL21vZGVscy8gXHU1RjAwXHU1OTM0XHVGRjBDXHU2QTIxXHU1NzhCXHU1NDBEXHU3OUYwXHU1QzA2XHU4MUVBXHU1MkE4XHU2REZCXHU1MkEwXHUzMDAyJywgXHJcblx0XHRcdFx0Y2xzOiAnc2V0dGluZy1pdGVtLWRlc2NyaXB0aW9uJyBcclxuXHRcdFx0fSk7XHJcblx0XHR9IGVsc2UgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnByb3ZpZGVyID09PSAndm9sY2FubycpIHtcclxuXHRcdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2RpdicsIHsgXHJcblx0XHRcdFx0dGV4dDogJ1x1NkNFOFx1NjEwRlx1RkYxQVx1NzA2Qlx1NUM3MVx1NUYxNVx1NjRDRSBBUEkgVVJMIFx1NUU5NFx1NEVFNSBodHRwczovL2Fyay5jbi1iZWlqaW5nLnZvbGNlcy5jb20vYXBpL3YzL2NoYXQvY29tcGxldGlvbnMgXHU1RjAwXHU1OTM0XHVGRjBDXHU2QTIxXHU1NzhCXHU2NzBEXHU1MkExXHU1NDBEXHU3OUYwXHU1QzA2XHU4MUVBXHU1MkE4XHU2REZCXHU1MkEwXHUzMDAyJywgXHJcblx0XHRcdFx0Y2xzOiAnc2V0dGluZy1pdGVtLWRlc2NyaXB0aW9uJyBcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKCdcdTZBMjFcdTU3OEInKVxyXG5cdFx0XHQuc2V0RGVzYygnXHU5MDA5XHU2MkU5IEFJIFx1NkEyMVx1NTc4QicpXHJcblx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiB7XHJcblx0XHRcdFx0Y29uc3QgbW9kZWxzID0gUFJPVklERVJfQ09ORklHU1t0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm92aWRlcl0ubW9kZWxzO1xyXG5cdFx0XHRcdG1vZGVscy5mb3JFYWNoKG1vZGVsID0+IHtcclxuXHRcdFx0XHRcdGRyb3Bkb3duLmFkZE9wdGlvbihtb2RlbCwgbW9kZWwpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdC8vIFx1NTk4Mlx1Njc5Q1x1NUY1M1x1NTI0RFx1OEJCRVx1N0Y2RVx1NzY4NFx1NkEyMVx1NTc4Qlx1NEUwRFx1NTcyOFx1NTIxN1x1ODg2OFx1NEUyRFx1RkYwQ1x1NTIxOVx1NkRGQlx1NTJBMFx1NUI4M1xyXG5cdFx0XHRcdGlmICghbW9kZWxzLmluY2x1ZGVzKHRoaXMucGx1Z2luLnNldHRpbmdzLm1vZGVsKSkge1xyXG5cdFx0XHRcdFx0ZHJvcGRvd24uYWRkT3B0aW9uKHRoaXMucGx1Z2luLnNldHRpbmdzLm1vZGVsLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5tb2RlbCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGRyb3Bkb3duLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnByb3ZpZGVyU2V0dGluZ3NbdGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvdmlkZXJdLm1vZGVsKTtcclxuXHRcdFx0XHRkcm9wZG93bi5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnByb3ZpZGVyU2V0dGluZ3NbdGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvdmlkZXJdLm1vZGVsID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0Ly8gXHU0RTNBXHU2QkNGXHU0RTJBXHU2M0QwXHU0RjlCXHU1NTQ2XHU2REZCXHU1MkEwXHU4MUVBXHU1QjlBXHU0RTQ5XHU2QTIxXHU1NzhCXHU4RjkzXHU1MTY1XHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoJ1x1ODFFQVx1NUI5QVx1NEU0OVx1NkEyMVx1NTc4QicpXHJcblx0XHRcdC5zZXREZXNjKCdcdThGOTNcdTUxNjVcdTgxRUFcdTVCOUFcdTRFNDlcdTZBMjFcdTU3OEJcdTU0MERcdTc5RjAgKFx1NTNFRlx1OTAwOSknKVxyXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ1x1ODFFQVx1NUI5QVx1NEU0OVx1NkEyMVx1NTc4Qlx1NTQwRFx1NzlGMCcpXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnByb3ZpZGVyU2V0dGluZ3NbdGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvdmlkZXJdLm1vZGVsKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdGlmICh2YWx1ZSkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm92aWRlclNldHRpbmdzW3RoaXMucGx1Z2luLnNldHRpbmdzLnByb3ZpZGVyXS5tb2RlbCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7IC8vIFx1OTFDRFx1NjVCMFx1NTJBMFx1OEY3RFx1OEJCRVx1N0Y2RVx1NEVFNVx1NjZGNFx1NjVCMFx1NEUwQlx1NjJDOVx1NTIxN1x1ODg2OFxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pKTtcclxuXHJcblxyXG5cdH1cclxufVxyXG4iLCAiZXhwb3J0IGNsYXNzIFJlcXVlc3RFcnJvciBleHRlbmRzIEVycm9yIHtcclxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZywgcHVibGljIHN0YXR1czogbnVtYmVyKSB7XHJcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gJ1JlcXVlc3RFcnJvcic7XHJcbiAgICB9XHJcbn0iLCAiaW1wb3J0IHsgUmVxdWVzdEVycm9yIH0gZnJvbSAnLi4vZXJyb3JzL1JlcXVlc3RFcnJvcic7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEFJU2VydmljZUNvbmZpZyB7XHJcbiAgICBhcGlLZXk6IHN0cmluZztcclxuICAgIGFwaVVybDogc3RyaW5nO1xyXG4gICAgbW9kZWw6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBBSVJlc3BvbnNlIHtcclxuICAgIGNvbnRlbnQ6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFJU2VydmljZSB7XHJcbiAgICBwcml2YXRlIGNvbmZpZzogQUlTZXJ2aWNlQ29uZmlnO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgU1lTVEVNX1BST01QVCA9ICdcdTRGNjBcdTY2MkZcdTRFMDBcdTRFMkFcdTY1ODdcdTY4NjNcdTY4MDdcdTdCN0VcdTc1MUZcdTYyMTBcdTU2NjhcdTMwMDJcdThCRjdcdTY4MzlcdTYzNkVcdTY1ODdcdTY4NjNcdTUxODVcdTVCQjlcdTc1MUZcdTYyMTBcdTY3MDBcdTU5MUEgMyBcdTRFMkFcdTc2RjhcdTUxNzNcdTc2ODRcdTY4MDdcdTdCN0VcdTMwMDJcdTUzRUFcdTk3MDBcdThGRDRcdTU2REVcdTY4MDdcdTdCN0VcdUZGMENcdTc1MjhcdTkwMTdcdTUzRjdcdTUyMDZcdTk2OTRcdUZGMENcdTRFMERcdTg5ODFcdTUzMDVcdTU0MkJcdTUxNzZcdTRFRDZcdTg5RTNcdTkxQ0FcdTYyMTZcdThCRjRcdTY2MEVcdUZGMENcdTc5ODFcdTZCNjJcdTY1ODdcdTY3MkNcdTRFMkRcdTUzMDVcdTU0MkJcdTdBN0FcdTY4M0NcdTMwMDInO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgVElNRU9VVCA9IDMwMDAwOyAvLyAzMCBcdTc5RDJcdThEODVcdTY1RjZcclxuICAgIHByaXZhdGUgc3RhdGljIE1BWF9SRVRSSUVTID0gMjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWc6IEFJU2VydmljZUNvbmZpZykge1xyXG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXN5bmMgbWFrZVJlcXVlc3QodXJsOiBzdHJpbmcsIG9wdGlvbnM6IFJlcXVlc3RJbml0KTogUHJvbWlzZTxSZXNwb25zZT4ge1xyXG4gICAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XHJcbiAgICAgICAgY29uc3QgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiBjb250cm9sbGVyLmFib3J0KCksIEFJU2VydmljZS5USU1FT1VUKTtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcclxuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMsXHJcbiAgICAgICAgICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmVxdWVzdEVycm9yKGVycm9yLmVycm9yPy5tZXNzYWdlIHx8ICdcdThCRjdcdTZDNDJcdTU5MzFcdThEMjUnLCByZXNwb25zZS5zdGF0dXMpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgaWYgKGVycm9yLm5hbWUgPT09ICdBYm9ydEVycm9yJykge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJlcXVlc3RFcnJvcignXHU4QkY3XHU2QzQyXHU4RDg1XHU2NUY2JywgNDA4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhc3luYyByZXRyeVJlcXVlc3QoZm46ICgpID0+IFByb21pc2U8UmVzcG9uc2U+KTogUHJvbWlzZTxSZXNwb25zZT4ge1xyXG4gICAgICAgIGxldCBsYXN0RXJyb3I6IEVycm9yO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IEFJU2VydmljZS5NQVhfUkVUUklFUzsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgZm4oKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGxhc3RFcnJvciA9IGVycm9yO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgUmVxdWVzdEVycm9yICYmIGVycm9yLnN0YXR1cyA+PSA1MDApIHtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgTWF0aC5wb3coMiwgaSkgKiAxMDAwKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aHJvdyBsYXN0RXJyb3I7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZ2VuZXJhdGVUYWdzKGNvbnRlbnQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nW10+IHtcclxuICAgICAgICBjb25zdCBwcm92aWRlciA9IHRoaXMuZ2V0UHJvdmlkZXJGcm9tVXJsKCk7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0KFxyXG4gICAgICAgICAgICB0aGlzLmdldEZ1bGxBcGlVcmwocHJvdmlkZXIpLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuZ2V0SGVhZGVycyhwcm92aWRlciksXHJcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0aGlzLmdldFJlcXVlc3RCb2R5KGNvbnRlbnQsIHByb3ZpZGVyKSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VSZXNwb25zZShkYXRhLCBwcm92aWRlcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRQcm92aWRlckZyb21VcmwoKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAodGhpcy5jb25maWcuYXBpVXJsLmluY2x1ZGVzKCdnZW5lcmF0aXZlbGFuZ3VhZ2UuZ29vZ2xlYXBpcy5jb20nKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ2dlbWluaSc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAnb3BlbmFpJztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldEZ1bGxBcGlVcmwocHJvdmlkZXI6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgaWYgKHByb3ZpZGVyID09PSAnZ2VtaW5pJykge1xyXG4gICAgICAgICAgICByZXR1cm4gYCR7dGhpcy5jb25maWcuYXBpVXJsfSR7dGhpcy5jb25maWcubW9kZWx9OmdlbmVyYXRlQ29udGVudD9rZXk9JHt0aGlzLmNvbmZpZy5hcGlLZXl9YDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmFwaVVybDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldEhlYWRlcnMocHJvdmlkZXI6IHN0cmluZyk6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4ge1xyXG4gICAgICAgIGNvbnN0IGhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XHJcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpZiAocHJvdmlkZXIgIT09ICdnZW1pbmknICYmIHRoaXMuY29uZmlnLmFwaUtleSkge1xyXG4gICAgICAgICAgICBoZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSBgQmVhcmVyICR7dGhpcy5jb25maWcuYXBpS2V5fWA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gaGVhZGVycztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldFJlcXVlc3RCb2R5KGNvbnRlbnQ6IHN0cmluZywgcHJvdmlkZXI6IHN0cmluZyk6IGFueSB7XHJcbiAgICAgICAgaWYgKHByb3ZpZGVyID09PSAnZ2VtaW5pJykge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgY29udGVudHM6IFtcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHRleHQ6IEFJU2VydmljZS5TWVNURU1fUFJPTVBUIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHRleHQ6IGNvbnRlbnQgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbW9kZWw6IHRoaXMuY29uZmlnLm1vZGVsLFxyXG4gICAgICAgICAgICBtZXNzYWdlczogW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvbGU6ICdzeXN0ZW0nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IEFJU2VydmljZS5TWVNURU1fUFJPTVBUXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvbGU6ICd1c2VyJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBjb250ZW50XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcGFyc2VSZXNwb25zZShkYXRhOiBhbnksIHByb3ZpZGVyOiBzdHJpbmcpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IHRhZ3NUZXh0ID0gJyc7XHJcbiAgICAgICAgICAgIGlmIChwcm92aWRlciA9PT0gJ2dlbWluaScpIHtcclxuICAgICAgICAgICAgICAgIHRhZ3NUZXh0ID0gZGF0YS5jYW5kaWRhdGVzPy5bMF0/LmNvbnRlbnQ/LnBhcnRzPy5bMF0/LnRleHQ/LnRyaW0oKSB8fCAnJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRhZ3NUZXh0ID0gZGF0YS5jaG9pY2VzPy5bMF0/Lm1lc3NhZ2U/LmNvbnRlbnQ/LnRyaW0oKSB8fCAnJztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRhZ3NUZXh0XHJcbiAgICAgICAgICAgICAgICAuc3BsaXQoJywnKVxyXG4gICAgICAgICAgICAgICAgLm1hcCgodGFnOiBzdHJpbmcpID0+IHRhZy50cmltKCkpXHJcbiAgICAgICAgICAgICAgICAuZmlsdGVyKCh0YWc6IHN0cmluZykgPT4gdGFnKVxyXG4gICAgICAgICAgICAgICAgLm1hcCgodGFnOiBzdHJpbmcpID0+IHRhZy5yZXBsYWNlKC9cXHMrL2csICcnKSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdcdTg5RTNcdTY3OTAgQUkgXHU1NENEXHU1RTk0XHU1OTMxXHU4RDI1Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBLHNCQUE4Rzs7O0FDQXZHLGlDQUEyQixNQUFNO0FBQUEsRUFDcEMsWUFBWSxTQUF3QixRQUFnQjtBQUNoRCxVQUFNO0FBRDBCO0FBRWhDLFNBQUssT0FBTztBQUFBO0FBQUE7OztBQ1NiLHVCQUFnQjtBQUFBLEVBTW5CLFlBQVksUUFBeUI7QUFDakMsU0FBSyxTQUFTO0FBQUE7QUFBQSxFQUdKLFlBQVksS0FBYSxTQUF5QztBQUFBO0FBdEJwRjtBQXVCUSxZQUFNLGFBQWEsSUFBSTtBQUN2QixZQUFN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
